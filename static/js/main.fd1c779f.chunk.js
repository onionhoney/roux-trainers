(this["webpackJsonpcmll-trainer"]=this["webpackJsonpcmll-trainer"]||[]).push([[0],{126:function(e){e.exports=JSON.parse('{"UD":"0.3071","UD\'":"0.0751","UD2":"0.1538","UF":"0.2657","UF\'":"0.1559","UF2":"0.0932","UB":"0.2564","UB\'":"0.2916","UB2":"0.0494","UL":"0.3022","UL\'":"0.0764","UL2":"0.2896","UR":"0.1148","UR\'":"0.0496","UR2":"0.0714","UM":"0.1802","UM\'":"0.1794","UM2":"0.1209","Ur":"0.3005","Ur\'":"0.2882","Ur2":"0.1642","U\'D":"0.0478","U\'D\'":"0.1393","U\'D2":"0.1223","U\'F":"0.2033","U\'F\'":"0.0480","U\'F2":"0.1585","U\'B":"0.4330","U\'B\'":"0.3097","U\'B2":"0.2104","U\'L":"0.3079","U\'L\'":"0.2998","U\'L2":"0.3098","U\'R":"0.1083","U\'R\'":"0.0498","U\'R2":"0.0498","U\'M":"0.0805","U\'M\'":"0.1401","U\'M2":"0.0704","U\'r":"0.0887","U\'r\'":"0.1217","U\'r2":"0.1361","U2D":"0.2624","U2D\'":"0.2892","U2D2":"0.3059","U2F":"0.1922","U2F\'":"0.1962","U2F2":"0.2632","U2B":"0.2279","U2B\'":"0.3068","U2B2":"0.2597","U2L":"0.3095","U2L\'":"0.2951","U2L2":"0.3089","U2R":"0.1190","U2R\'":"0.0500","U2R2":"0.0665","U2M":"0.1678","U2M\'":"0.0495","U2M2":"0.0901","U2r":"0.1055","U2r\'":"0.0697","U2r2":"0.1648","DU":"0.3068","DU\'":"0.2941","DU2":"0.2942","DF":"0.1690","DF\'":"0.3097","DF2":"0.1751","DB":"0.0906","DB\'":"0.1580","DB2":"0.2278","DL":"0.2991","DL\'":"0.2965","DL2":"0.2914","DR":"0.0495","DR\'":"0.0498","DR2":"0.0493","DM":"0.3056","DM\'":"0.2001","DM2":"0.3185","Dr":"0.0984","Dr\'":"0.0908","Dr2":"0.1038","D\'U":"0.3028","D\'U\'":"0.3053","D\'U2":"0.2992","D\'F":"0.1528","D\'F\'":"0.1790","D\'F2":"0.1839","D\'B":"0.1707","D\'B\'":"0.2980","D\'B2":"0.3016","D\'L":"0.3015","D\'L\'":"0.2995","D\'L2":"0.3062","D\'R":"0.0489","D\'R\'":"0.0491","D\'R2":"0.0497","D\'M":"0.3265","D\'M\'":"0.3069","D\'M2":"0.1779","D\'r":"0.3029","D\'r\'":"0.1990","D\'r2":"0.2943","D2U":"0.2968","D2U\'":"0.2948","D2U2":"0.2967","D2F":"0.2922","D2F\'":"0.2917","D2F2":"0.3107","D2B":"0.3013","D2B\'":"0.2956","D2B2":"0.2934","D2L":"0.3085","D2L\'":"0.3041","D2L2":"0.2924","D2R":"0.0822","D2R\'":"0.1340","D2R2":"0.1204","D2M":"0.3019","D2M\'":"0.3027","D2M2":"0.3103","D2r":"0.1101","D2r\'":"0.1786","D2r2":"0.2927","FU":"0.2610","FU\'":"0.1614","FU2":"0.3038","FD":"0.1580","FD\'":"0.1782","FD2":"0.1654","FB":"0.1244","FB\'":"0.1792","FB2":"0.3001","FL":"0.2919","FL\'":"0.3096","FL2":"0.2996","FR":"0.0499","FR\'":"0.2749","FR2":"0.0498","FM":"0.1920","FM\'":"0.3082","FM2":"0.3108","Fr":"0.0866","Fr\'":"0.0675","Fr2":"0.2416","F\'U":"0.1653","F\'U\'":"0.1391","F\'U2":"0.1762","F\'D":"0.0991","F\'D\'":"0.2987","F\'D2":"0.1228","F\'B":"0.3306","F\'B\'":"0.2957","F\'B2":"0.2138","F\'L":"0.2929","F\'L\'":"0.3091","F\'L2":"0.3050","F\'R":"0.0494","F\'R\'":"0.1671","F\'R2":"0.1412","F\'M":"0.1805","F\'M\'":"0.2081","F\'M2":"0.2189","F\'r":"0.0898","F\'r\'":"0.1265","F\'r2":"0.1190","F2U":"0.2102","F2U\'":"0.1170","F2U2":"0.2983","F2D":"0.1302","F2D\'":"0.3035","F2D2":"0.2893","F2B":"0.0499","F2B\'":"0.2947","F2B2":"0.2908","F2L":"0.2983","F2L\'":"0.3091","F2L2":"0.2895","F2R":"0.3010","F2R\'":"0.0497","F2R2":"0.2949","F2M":"0.3034","F2M\'":"0.2950","F2M2":"0.3250","F2r":"0.0486","F2r\'":"0.3079","F2r2":"0.1740","BU":"0.2085","BU\'":"0.1088","BU2":"0.2193","BD":"0.2097","BD\'":"0.2993","BD2":"0.2947","BF":"0.3078","BF\'":"0.3089","BF2":"0.2965","BL":"0.2939","BL\'":"0.2898","BL2":"0.2995","BR":"0.3083","BR\'":"0.2964","BR2":"0.2932","BM":"0.2016","BM\'":"0.2900","BM2":"0.2973","Br":"0.3078","Br\'":"0.3000","Br2":"0.1463","B\'U":"0.1862","B\'U\'":"0.3083","B\'U2":"0.2183","B\'D":"0.2023","B\'D\'":"0.3062","B\'D2":"0.0965","B\'F":"0.3079","B\'F\'":"0.2970","B\'F2":"0.2939","B\'L":"0.2928","B\'L\'":"0.3041","B\'L2":"0.3005","B\'R":"0.2915","B\'R\'":"0.2970","B\'R2":"0.3079","B\'M":"0.2947","B\'M\'":"0.2892","B\'M2":"0.3079","B\'r":"0.1330","B\'r\'":"0.2933","B\'r2":"0.3002","B2U":"0.3052","B2U\'":"0.3078","B2U2":"0.2926","B2D":"0.2992","B2D\'":"0.3076","B2D2":"0.2945","B2F":"0.2971","B2F\'":"0.3042","B2F2":"0.2939","B2L":"0.3104","B2L\'":"0.3022","B2L2":"0.3055","B2R":"0.2088","B2R\'":"0.2967","B2R2":"0.2948","B2M":"0.3057","B2M\'":"0.2978","B2M2":"0.2945","B2r":"0.2904","B2r\'":"0.2972","B2r2":"0.2827","LU":"0.2953","LU\'":"0.2905","LU2":"0.2895","LD":"0.3021","LD\'":"0.2939","LD2":"0.3061","LF":"0.2966","LF\'":"0.2940","LF2":"0.2904","LB":"0.2925","LB\'":"0.3083","LB2":"0.2967","LR":"0.3063","LR\'":"0.3039","LR2":"0.2943","LM":"0.2931","LM\'":"0.3053","LM2":"0.3037","Lr":"0.2974","Lr\'":"0.2918","Lr2":"0.2896","L\'U":"0.3044","L\'U\'":"0.3003","L\'U2":"0.0605","L\'D":"0.2924","L\'D\'":"0.2941","L\'D2":"0.2907","L\'F":"0.3051","L\'F\'":"0.2991","L\'F2":"0.2897","L\'B":"0.3017","L\'B\'":"0.3066","L\'B2":"0.3031","L\'R":"0.2921","L\'R\'":"0.3084","L\'R2":"0.2990","L\'M":"0.2997","L\'M\'":"0.2941","L\'M2":"0.3061","L\'r":"0.2953","L\'r\'":"0.3043","L\'r2":"0.3046","L2U":"0.3099","L2U\'":"0.2997","L2U2":"0.2998","L2D":"0.3022","L2D\'":"0.3088","L2D2":"0.2946","L2F":"0.3049","L2F\'":"0.2986","L2F2":"0.2998","L2B":"0.3013","L2B\'":"0.3025","L2B2":"0.2984","L2R":"0.2988","L2R\'":"0.3027","L2R2":"0.3001","L2M":"0.3021","L2M\'":"0.2940","L2M2":"0.2964","L2r":"0.3029","L2r\'":"0.3044","L2r2":"0.3028","RU":"0.0498","RU\'":"0.0777","RU2":"0.0500","RD":"0.0499","RD\'":"0.0488","RD2":"0.3008","RF":"0.3028","RF\'":"0.1860","RF2":"0.3081","RB":"0.3015","RB\'":"0.1660","RB2":"0.1334","RL":"0.0774","RL\'":"0.2958","RL2":"0.2968","RM":"0.2955","RM\'":"0.3083","RM2":"0.3042","Rr":"0.3006","Rr\'":"0.3035","Rr2":"0.2974","R\'U":"0.0498","R\'U\'":"0.0491","R\'U2":"0.1340","R\'D":"0.0927","R\'D\'":"0.0493","R\'D2":"0.0840","R\'F":"0.0498","R\'F\'":"0.0498","R\'F2":"0.2943","R\'B":"0.1926","R\'B\'":"0.3036","R\'B2":"0.2956","R\'L":"0.3050","R\'L\'":"0.2971","R\'L2":"0.3100","R\'M":"0.3087","R\'M\'":"0.2963","R\'M2":"0.2904","R\'r":"0.2905","R\'r\'":"0.2902","R\'r2":"0.2967","R2U":"0.1784","R2U\'":"0.1251","R2U2":"0.1272","R2D":"0.0496","R2D\'":"0.0496","R2D2":"0.0892","R2F":"0.0496","R2F\'":"0.3026","R2F2":"0.2900","R2B":"0.1295","R2B\'":"0.2948","R2B2":"0.2137","R2L":"0.3082","R2L\'":"0.2966","R2L2":"0.2952","R2M":"0.3093","R2M\'":"0.1446","R2M2":"0.3029","R2r":"0.2924","R2r\'":"0.3045","R2r2":"0.3037","MU":"0.2566","MU\'":"0.1331","MU2":"0.1483","MD":"0.1703","MD\'":"0.2495","MD2":"0.2982","MF":"0.1786","MF\'":"0.3087","MF2":"0.2957","MB":"0.1935","MB\'":"0.2934","MB2":"0.3084","ML":"0.2896","ML\'":"0.2931","ML2":"0.3090","MR":"0.3091","MR\'":"0.3106","MR2":"0.2933","Mr":"0.3065","Mr\'":"0.3050","Mr2":"0.2910","M\'U":"0.1063","M\'U\'":"0.0831","M\'U2":"0.0497","M\'D":"0.2131","M\'D\'":"0.3050","M\'D2":"0.2912","M\'F":"0.1921","M\'F\'":"0.1947","M\'F2":"0.2990","M\'B":"0.3094","M\'B\'":"0.1874","M\'B2":"0.2972","M\'L":"0.3080","M\'L\'":"0.3000","M\'L2":"0.3098","M\'R":"0.3007","M\'R\'":"0.3031","M\'R2":"0.3102","M\'r":"0.3088","M\'r\'":"0.3107","M\'r2":"0.2895","M2U":"0.0884","M2U\'":"0.0975","M2U2":"0.2371","M2D":"0.3355","M2D\'":"0.1869","M2D2":"0.2911","M2F":"0.2115","M2F\'":"0.3336","M2F2":"0.3104","M2B":"0.2951","M2B\'":"0.3097","M2B2":"0.2999","M2L":"0.3086","M2L\'":"0.3057","M2L2":"0.3003","M2R":"0.3057","M2R\'":"0.3047","M2R2":"0.2926","M2r":"0.2960","M2r\'":"0.2928","M2r2":"0.2917","rU":"0.3036","rU\'":"0.0940","rU2":"0.3008","rD":"0.0847","rD\'":"0.1576","rD2":"0.2964","rF":"0.1405","rF\'":"0.0488","rF2":"0.3000","rB":"0.0499","rB\'":"0.1657","rB2":"0.3016","rL":"0.2957","rL\'":"0.2908","rL2":"0.2927","rR":"0.2902","rR\'":"0.2915","rR2":"0.3095","rM":"0.3100","rM\'":"0.2997","rM2":"0.3091","r\'U":"0.3069","r\'U\'":"0.3072","r\'U2":"0.2963","r\'D":"0.0957","r\'D\'":"0.2052","r\'D2":"0.2916","r\'F":"0.0809","r\'F\'":"0.1142","r\'F2":"0.3016","r\'B":"0.1499","r\'B\'":"0.3102","r\'B2":"0.3004","r\'L":"0.2899","r\'L\'":"0.3054","r\'L2":"0.3009","r\'R":"0.2943","r\'R\'":"0.2894","r\'R2":"0.3052","r\'M":"0.3090","r\'M\'":"0.2981","r\'M2":"0.3079","r2U":"0.1625","r2U\'":"0.2372","r2U2":"0.3026","r2D":"0.0572","r2D\'":"0.3015","r2D2":"0.2973","r2F":"0.2929","r2F\'":"0.1488","r2F2":"0.1938","r2B":"0.1211","r2B\'":"0.1298","r2B2":"0.3040","r2L":"0.2952","r2L\'":"0.2928","r2L2":"0.3096","r2R":"0.2907","r2R\'":"0.2930","r2R2":"0.2911","r2M":"0.2934","r2M\'":"0.3080","r2M2":"0.3008","U":"0.0708","U\'":"0.1107","U2":"0.0772","D":"0.1021","D\'":"0.0497","D2":"0.1193","F":"0.0499","F\'":"0.0497","F2":"0.1105","B":"0.1305","B\'":"0.1521","B2":"0.1640","L":"0.0643","L\'":"0.3062","L2":"0.2966","R":"0.0794","R\'":"0.0589","R2":"0.0499","M":"0.2994","M\'":"0.0498","M2":"0.0826","r":"0.3056","r\'":"0.0866","r2":"0.1399"}')},127:function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return n}));var r=s(106),a=s(1);function n(t){const[s,n]=Object(a.useState)({isRunning:!1,solutions:void 0}),{workerApi:o}=function(){const t=Object(a.useMemo)((()=>function(){const t=new Worker(e,{name:"analyzer-worker",type:void 0}),s=Object(r.b)(t),a=()=>{s[r.a](),t.terminate()};return{workerApi:s,cleanup:a}}()),[]);return Object(a.useEffect)((()=>{const{cleanup:e}=t;return()=>{e()}}),[t]),t}();return Object(a.useEffect)((()=>{n({isRunning:!0,solutions:void 0}),""!==t.scramble&&o.analyze(t).then((e=>n({isRunning:!1,solutions:e})))}),[o,n,t]),s}}).call(this,s(168))},168:function(e,t,s){e.exports=s.p+"static/js/analyzer-worker.ca439f15.chunk.worker.js"},171:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),n=s(44),o=s.n(n),c=s(255),l=s(252),i=s(256),h=s(239),p=s(257),d=s(260),u=s(261),m=s(278),f=s(249);let b;!function(e){e[e.U=0]="U",e[e.D=1]="D",e[e.F=2]="F",e[e.B=3]="B",e[e.L=4]="L",e[e.R=5]="R",e[e.X=6]="X"}(b||(b={}));const g=b.U,j=b.D,v=b.F,_=b.B,x=b.L,O=b.R;let y;!function(e){e[e.C=0]="C",e[e.E=1]="E",e[e.T=2]="T"}(y||(y={}));const R=y.C,w=y.E,U=y.T;let k=[[g,v,x],[g,x,_],[g,_,O],[g,O,v],[j,x,v],[j,_,x],[j,O,_],[j,v,O]],S=[[g,v],[g,x],[g,_],[g,O],[j,v],[j,x],[j,_],[j,O],[v,x],[_,x],[_,O],[v,O]],F=[[g],[j],[v],[_],[x],[O]],L=[[g,O,v],[g,v,x],[g,x,_],[g,_,O],[j,v,O],[j,x,v],[j,_,x],[j,O,_]],M=[[g,O],[g,v],[g,x],[g,_],[j,O],[j,v],[j,x],[j,_],[v,O],[v,x],[_,x],[_,O]],B={cpc:[[0,1],[1,2],[2,3],[3,0]],coc:[0,0,0,0],epc:[[0,1],[1,2],[2,3],[3,0]],eoc:[0,0,0,0],tpc:[],name:"U"},D={cpc:[[0,3],[3,7],[7,4],[4,0]],coc:[1,2,1,2],epc:[[0,11],[11,4],[4,8],[8,0]],eoc:[1,1,1,1],tpc:[],name:"F"},E={cpc:[[3,2],[2,6],[6,7],[7,3]],coc:[1,2,1,2],epc:[[3,10],[10,7],[7,11],[11,3]],eoc:[0,0,0,0],tpc:[],name:"R"},C={cpc:[[0,4],[4,5],[5,1],[1,0]],coc:[2,1,2,1],epc:[[1,8],[8,5],[5,9],[9,1]],eoc:[0,0,0,0],tpc:[],name:"L"},A={cpc:[[4,7],[7,6],[6,5],[5,4]],coc:[0,0,0,0],epc:[[4,7],[7,6],[6,5],[5,4]],eoc:[0,0,0,0],tpc:[],name:"D"},N={cpc:[[1,5],[5,6],[6,2],[2,1]],coc:[2,1,2,1],epc:[[2,9],[9,6],[6,10],[10,2]],eoc:[1,1,1,1],tpc:[],name:"B"},P={cpc:[],coc:[],epc:[[0,4],[4,6],[6,2],[2,0]],eoc:[1,1,1,1],tpc:[[0,2],[2,1],[1,3],[3,0]],name:"M"},T={cpc:[],coc:[],epc:[[8,9],[9,10],[10,11],[11,8]],eoc:[1,1,1,1],tpc:[[2,4],[4,3],[3,5],[5,2]],name:"E"},z={cpc:[],coc:[],epc:[[1,3],[3,7],[7,5],[5,1]],eoc:[1,1,1,1],tpc:[[0,5],[5,1],[1,4],[4,0]],name:"S"},I=[[1,0,R],[2,0,w],[2,0,R],[1,0,w],[0,0,U],[3,0,w],[0,0,R],[0,0,w],[3,0,R]],W=[[0,1,R],[0,1,w],[3,2,R],[8,0,w],[2,0,U],[11,0,w],[4,2,R],[4,1,w],[7,1,R]];const Y=[[0,0,8,1],[0,1,1,0],[0,2,0,1],[1,1,2,0],[1,2,1,1],[2,0,10,1],[2,1,3,0],[2,2,2,1],[3,0,11,0],[3,1,0,0],[3,2,3,1],[4,1,4,0],[6,0,10,0],[6,1,6,0],[6,2,7,1],[7,0,11,1],[7,1,7,0],[7,2,4,1]],G=[[0,1,1,1],[0,2,0,0],[1,0,9,1],[1,1,2,1],[1,2,1,0],[2,0,10,0],[2,1,3,1],[2,2,2,0],[3,0,11,1],[3,1,0,1],[3,2,3,0],[5,2,6,0],[6,0,10,1],[6,1,6,1],[6,2,7,0],[7,0,11,0],[7,1,7,1],[7,2,4,0]];let H="   UUU\n   UUU\n   UUU\nLLLFFFRRRBBB\nLLLFFFRRRBBB\nLLLFFFRRRBBB\n   DDD\n   DDD\n   DDD";var $=s(10);let V=e=>Math.floor(Math.random()*e),K=(e,t)=>V(t-e+1)+e,X=function(e){return e[V(e.length)]};function q(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce(((e,t)=>e.map((e=>t.map((t=>e.concat([t]))))).reduce(((e,t)=>e.concat(t)),[])),[[]])}let Z=e=>{let t=Array(e.length).fill(!1),s=(r,a)=>t[r]?0:(t[r]=1,t[e[r]]?a:s(e[r],a+1)),r=0;for(let a of e)r+=s(a,0);return r},J=function(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0};var Q=s(98),ee=s(225),te=s(27),se=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new $.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:$.MOUSE.ROTATE,MIDDLE:$.MOUSE.DOLLY,RIGHT:$.MOUSE.PAN},this.touches={ONE:$.TOUCH.ROTATE,TWO:$.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Y),this._domElementKeyEvents=e},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(r),s.update(),c=o.NONE},this.update=function(){var t=new $.Vector3,a=(new $.Quaternion).setFromUnitVectors(e.up,new $.Vector3(0,1,0)),n=a.clone().invert(),m=new $.Vector3,f=new $.Quaternion,b=2*Math.PI;return function(){var e=s.object.position;t.copy(e).sub(s.target),t.applyQuaternion(a),i.setFromVector3(t),s.autoRotate&&c===o.NONE&&R(2*Math.PI/60/60*s.autoRotateSpeed),s.enableDamping?(i.theta+=h.theta*s.dampingFactor,i.phi+=h.phi*s.dampingFactor):(i.theta+=h.theta,i.phi+=h.phi);var g=s.minAzimuthAngle,j=s.maxAzimuthAngle;return isFinite(g)&&isFinite(j)&&(g<-Math.PI?g+=b:g>Math.PI&&(g-=b),j<-Math.PI?j+=b:j>Math.PI&&(j-=b),i.theta=g<=j?Math.max(g,Math.min(j,i.theta)):i.theta>(g+j)/2?Math.max(g,i.theta):Math.min(j,i.theta)),i.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,i.phi)),i.makeSafe(),i.radius*=p,i.radius=Math.max(s.minDistance,Math.min(s.maxDistance,i.radius)),!0===s.enableDamping?s.target.addScaledVector(d,s.dampingFactor):s.target.add(d),t.setFromSpherical(i),t.applyQuaternion(n),e.copy(s.target).add(t),s.object.lookAt(s.target),!0===s.enableDamping?(h.theta*=1-s.dampingFactor,h.phi*=1-s.dampingFactor,d.multiplyScalar(1-s.dampingFactor)):(h.set(0,0,0),d.set(0,0,0)),p=1,!!(u||m.distanceToSquared(s.object.position)>l||8*(1-f.dot(s.object.quaternion))>l)&&(s.dispatchEvent(r),m.copy(s.object.position),f.copy(s.object.quaternion),u=!1,!0)}}(),this.dispose=function(){s.domElement.removeEventListener("contextmenu",K),s.domElement.removeEventListener("pointerdown",T),s.domElement.removeEventListener("wheel",W),s.domElement.removeEventListener("touchstart",G),s.domElement.removeEventListener("touchend",V),s.domElement.removeEventListener("touchmove",H),s.domElement.ownerDocument.removeEventListener("pointermove",z),s.domElement.ownerDocument.removeEventListener("pointerup",I),null!==s._domElementKeyEvents&&s._domElementKeyEvents.removeEventListener("keydown",Y)};var s=this,r={type:"change"},a={type:"start"},n={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=o.NONE,l=1e-6,i=new $.Spherical,h=new $.Spherical,p=1,d=new $.Vector3,u=!1,m=new $.Vector2,f=new $.Vector2,b=new $.Vector2,g=new $.Vector2,j=new $.Vector2,v=new $.Vector2,_=new $.Vector2,x=new $.Vector2,O=new $.Vector2;function y(){return Math.pow(.95,s.zoomSpeed)}function R(e){h.theta-=e}function w(e){h.phi-=e}var U=function(){var e=new $.Vector3;return function(t,s){e.setFromMatrixColumn(s,0),e.multiplyScalar(-t),d.add(e)}}(),k=function(){var e=new $.Vector3;return function(t,r){!0===s.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(s.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),S=function(){var e=new $.Vector3;return function(t,r){var a=s.domElement;if(s.object.isPerspectiveCamera){var n=s.object.position;e.copy(n).sub(s.target);var o=e.length();o*=Math.tan(s.object.fov/2*Math.PI/180),U(2*t*o/a.clientHeight,s.object.matrix),k(2*r*o/a.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(U(t*(s.object.right-s.object.left)/s.object.zoom/a.clientWidth,s.object.matrix),k(r*(s.object.top-s.object.bottom)/s.object.zoom/a.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}}();function F(e){s.object.isPerspectiveCamera?p/=e:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*e)),s.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function L(e){s.object.isPerspectiveCamera?p*=e:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/e)),s.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function M(e){m.set(e.clientX,e.clientY)}function B(e){g.set(e.clientX,e.clientY)}function D(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),s=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,s)}}function E(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),s=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,s)}}function C(e){var t=e.touches[0].pageX-e.touches[1].pageX,s=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+s*s);_.set(0,r)}function A(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,r)}b.subVectors(f,m).multiplyScalar(s.rotateSpeed);var a=s.domElement;R(2*Math.PI*b.x/a.clientHeight),w(2*Math.PI*b.y/a.clientHeight),m.copy(f)}function N(e){if(1==e.touches.length)j.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);j.set(t,r)}v.subVectors(j,g).multiplyScalar(s.panSpeed),S(v.x,v.y),g.copy(j)}function P(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+r*r);x.set(0,a),O.set(0,Math.pow(x.y/_.y,s.zoomSpeed)),F(O.y),_.copy(x)}function T(e){if(!1!==s.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),s.domElement.focus?s.domElement.focus():window.focus(),e.button){case 0:t=s.mouseButtons.LEFT;break;case 1:t=s.mouseButtons.MIDDLE;break;case 2:t=s.mouseButtons.RIGHT;break;default:t=-1}switch(t){case $.MOUSE.DOLLY:if(!1===s.enableZoom)return;!function(e){_.set(e.clientX,e.clientY)}(e),c=o.DOLLY;break;case $.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===s.enablePan)return;B(e),c=o.PAN}else{if(!1===s.enableRotate)return;M(e),c=o.ROTATE}break;case $.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===s.enableRotate)return;M(e),c=o.ROTATE}else{if(!1===s.enablePan)return;B(e),c=o.PAN}break;default:c=o.NONE}c!==o.NONE&&(s.domElement.ownerDocument.addEventListener("pointermove",z),s.domElement.ownerDocument.addEventListener("pointerup",I),s.dispatchEvent(a))}(e)}}function z(e){if(!1!==s.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===s.enabled)return;switch(e.preventDefault(),c){case o.ROTATE:if(!1===s.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),b.subVectors(f,m).multiplyScalar(s.rotateSpeed);var t=s.domElement;R(2*Math.PI*b.x/t.clientHeight),w(2*Math.PI*b.y/t.clientHeight),m.copy(f),s.update()}(e);break;case o.DOLLY:if(!1===s.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),O.subVectors(x,_),O.y>0?F(y()):O.y<0&&L(y()),_.copy(x),s.update()}(e);break;case o.PAN:if(!1===s.enablePan)return;!function(e){j.set(e.clientX,e.clientY),v.subVectors(j,g).multiplyScalar(s.panSpeed),S(v.x,v.y),g.copy(j),s.update()}(e)}}(e)}}function I(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(s.domElement.ownerDocument.removeEventListener("pointermove",z),s.domElement.ownerDocument.removeEventListener("pointerup",I),!1===s.enabled)return;s.dispatchEvent(n),c=o.NONE}()}}function W(e){!1===s.enabled||!1===s.enableZoom||c!==o.NONE&&c!==o.ROTATE||(e.preventDefault(),e.stopPropagation(),s.dispatchEvent(a),function(e){e.deltaY<0?L(y()):e.deltaY>0&&F(y()),s.update()}(e),s.dispatchEvent(n))}function Y(e){!1!==s.enabled&&!1!==s.enablePan&&function(e){var t=!1;switch(e.keyCode){case s.keys.UP:S(0,s.keyPanSpeed),t=!0;break;case s.keys.BOTTOM:S(0,-s.keyPanSpeed),t=!0;break;case s.keys.LEFT:S(s.keyPanSpeed,0),t=!0;break;case s.keys.RIGHT:S(-s.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),s.update())}(e)}function G(e){if(!1!==s.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(s.touches.ONE){case $.TOUCH.ROTATE:if(!1===s.enableRotate)return;D(e),c=o.TOUCH_ROTATE;break;case $.TOUCH.PAN:if(!1===s.enablePan)return;E(e),c=o.TOUCH_PAN;break;default:c=o.NONE}break;case 2:switch(s.touches.TWO){case $.TOUCH.DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(e){s.enableZoom&&C(e),s.enablePan&&E(e)}(e),c=o.TOUCH_DOLLY_PAN;break;case $.TOUCH.DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(e){s.enableZoom&&C(e),s.enableRotate&&D(e)}(e),c=o.TOUCH_DOLLY_ROTATE;break;default:c=o.NONE}break;default:c=o.NONE}c!==o.NONE&&s.dispatchEvent(a)}}function H(e){if(!1!==s.enabled)switch(e.preventDefault(),e.stopPropagation(),c){case o.TOUCH_ROTATE:if(!1===s.enableRotate)return;A(e),s.update();break;case o.TOUCH_PAN:if(!1===s.enablePan)return;N(e),s.update();break;case o.TOUCH_DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(e){s.enableZoom&&P(e),s.enablePan&&N(e)}(e),s.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(e){s.enableZoom&&P(e),s.enableRotate&&A(e)}(e),s.update();break;default:c=o.NONE}}function V(e){!1!==s.enabled&&(s.dispatchEvent(n),c=o.NONE)}function K(e){!1!==s.enabled&&e.preventDefault()}s.domElement.addEventListener("contextmenu",K),s.domElement.addEventListener("pointerdown",T),s.domElement.addEventListener("wheel",W),s.domElement.addEventListener("touchstart",G),s.domElement.addEventListener("touchend",V),s.domElement.addEventListener("touchmove",H),this.update()};(se.prototype=Object.create($.EventDispatcher.prototype)).constructor=se;var re=function(e,t){se.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=$.MOUSE.PAN,this.mouseButtons.RIGHT=$.MOUSE.ROTATE,this.touches.ONE=$.TOUCH.PAN,this.touches.TWO=$.TOUCH.DOLLY_ROTATE};(re.prototype=Object.create($.EventDispatcher.prototype)).constructor=re;var ae=s(0);let{Vector3:ne}=$;const oe=2*Math.PI,ce=[[new $.Vector3(0,1,0),new $.Euler(-oe/4,0,0)],[new $.Vector3(0,-1,0),new $.Euler(oe/4,0,0)],[new $.Vector3(0,0,1),new $.Euler(0,0,0)],[new $.Vector3(0,0,-1),new $.Euler(0,oe/2,0)],[new $.Vector3(-1,0,0),new $.Euler(0,-oe/4,0)],[new $.Vector3(1,0,0),new $.Euler(0,oe/4,0)]];var le;!function(e){e[e.HOME=0]="HOME",e[e.PEEK_UFL=1]="PEEK_UFL",e[e.PEEK_DFL=2]="PEEK_DFL",e[e.PEEK_DFR=3]="PEEK_DFR",e[e.PEEK_UBR=4]="PEEK_UBR",e[e.PEEK_UBL=5]="PEEK_UBL"}(le||(le={}));const ie=(e,t)=>{t=t||.1,e=e||[1,1,1,1];let s=new $.BufferGeometry,r=[],a=new $.Vector3(1-t,1-t,0),n=new $.Vector3(1,1,0);for(let l=0;l<=90;l+=10){let e=l*Math.PI/180;r.push(a.clone().add(new $.Vector3(Math.cos(e),Math.sin(e),0).multiplyScalar(t)))}let o=[];for(let l=0;l<4;l++)e[l]?o.push(...r):o.push(n.clone()),r=r.map((e=>e.clone().applyAxisAngle(new ne(0,0,1),.5*Math.PI))),n.applyAxisAngle(new ne(0,0,1),.5*Math.PI);let c=[];for(let l=0;l<o.length;l++){let e=(l+1)%o.length;c.push(o[o.length-1]),c.push(o[l]),c.push(o[e])}return s.setFromPoints(c),s},he=function(e,t){let{width:s,height:r,colorScheme:a,mode:n,faces:o,theme:c,enableControl:l}=t,i=t.hintDistance||3;const h="bright"===c?"#eeeeef":"#252525";n=n||"FRU";let p=o||[b.L,b.B,b.D];const d=new $.Scene,u=new $.PerspectiveCamera(50,s/r,.1,1e3),m=new $.WebGLRenderer({antialias:!0});m.setSize(s,r,!0),m.setClearColor(h),m.setPixelRatio(window.devicePixelRatio);let f=new se(u,m.domElement);f.enabled=!!t.enableControl;const g=Math.sin(70/180*Math.PI)/Math.sin(50/180*Math.PI),j=i>5?.96*g:.9*g,v=t.cameraState||le.HOME,[_,x]=function(e){const t=[2.5,3.5,3],s=[-2,3.5,3],r=[-2,-3.5,3],a=[2,-3.5,3],n=[2.5,3.5,-3],o=[-2,3.5,-3],c=new $.Vector3(0,0,-1),l=new $.Vector3(0,.1,-1),i=new $.Vector3(0,1,0);switch(e){case le.HOME:return[t,i];case le.PEEK_DFL:return[r,i];case le.PEEK_DFR:return[a,i];case le.PEEK_UFL:return[s,i];case le.PEEK_UBL:return[o,l];default:return[n,c]}}(v),O="FRU"===n?new $.Vector3(_[0]*j,_[1]*j,_[2]*j):new $.Vector3(0,3/1.1,3/1.1);let y,R;u.up.copy(x),u.position.copy(O),u.aspect=s/r,u.lookAt(new $.Vector3(0,0,0));const w=[],U=new $.PlaneGeometry(2,2);let k=new $.MeshBasicMaterial({color:0,side:$.FrontSide});R=(()=>{let e=new $.Mesh(U,k);return e.setRotationFromEuler(ce[0][1]),e})();const S=.88,F=.95,L=[[0,0,0,1],[0,0,1,1],[0,0,1,0],[1,0,0,1],[1,1,1,1],[0,1,1,0],[1,0,0,0],[1,1,0,0],[0,1,0,0]];function M(e,t){let s=Array(7).fill(0).map(((e,s)=>{let r=new $.MeshBasicMaterial({color:t[s],side:$.DoubleSide});return r.alphaTest=.5,r}));y=s.map((e=>L.map((t=>{let s=ie(t,.4);w.push(s);let r=new $.Mesh(s,e);return r.scale.set(S,S,S),r.setRotationFromEuler(ce[0][1]),r})))).flat();let r=Array(7).fill(0).map(((e,s)=>{let r="bright"===c?Q.mix(t[s],"white",.18).hex():Q.mix(t[s],"black",.35).hex(),a=new $.MeshBasicMaterial({color:r,side:$.DoubleSide}),n=ie([1,1,1,1],.4);w.push(n);let o=new $.Mesh(n,a);return o.scale.set(F,F,F),o.setRotationFromEuler(ce[0][1]),o}));const a=new $.Group;for(let n=0;n<6;n++){const t=new $.Group,s=(new $.Matrix4).makeRotationFromEuler(ce[n][1]),o=(new $.Matrix4).makeRotationFromEuler(ce[1][1]);t.setRotationFromMatrix(s.multiply(o));for(let a=-1;a<=1;a++)for(let s=-1;s<=1;s++){let o=3*(a+1)+(s+1);const c=y[9*e[n][o]+o].clone(),l=R.clone(),h=.05;if(c.position.copy(new $.Vector3(2*s,3,2*a)),l.position.copy(new $.Vector3(2*s,3-h,2*a)),p.indexOf(n)>-1){const c=r[e[n][o]].clone();c.position.copy(new $.Vector3(2*s,3+i,2*a)),t.add(c)}t.add(l),t.add(c)}a.add(t)}return a.scale.set(1/3,1/3,1/3),a}let B=M(e,a);d.add(B);const D=()=>{f.update(),m.render(d,u)};D();let E=-1;const C=()=>{E=requestAnimationFrame(C),m.render(d,u)};C();return{updateCubeAndColor:(e,t)=>(d.remove(B),B.clear(),B=M(e,t),d.add(B),m.render(d,u),m),getRenderer:()=>m,cleanupFunc:()=>{w.forEach((e=>e.dispose())),k.dispose(),U.dispose(),d.remove(B),cancelAnimationFrame(E)},renderControls:D}};let pe=function(){let e=null,t=null;return(s,r)=>{var a,n,o;return null===e?(null===(a=t)||void 0===a||a.cleanupFunc(),t=he(s,r),e=r,t):r.width===e.width&&r.height===e.height&&J(r.faces||[],e.faces||[])&&r.theme===e.theme&&r.hintDistance===e.hintDistance&&r.enableControl===e.enableControl&&r.cameraState===e.cameraState?(null===(n=t)||void 0===n||n.updateCubeAndColor(s,r.colorScheme),e=r,t):(null===(o=t)||void 0===o||o.cleanupFunc(),t=he(s,r),e=r,t)}};var de=function(e){const t=a.a.useRef(null),[s,n]=a.a.useState(le.HOME);let{width:o,height:c,colorScheme:l,facesToReveal:i,hintDistance:h,theme:p}=e,d=a.a.useMemo(pe,[]);const u=Object(ee.a)(Object(te.a)().breakpoints.up("sm"));let m=d(e.cube,{width:o,height:c,colorScheme:l,faces:i,theme:p,hintDistance:h,enableControl:u,cameraState:s});return Object(r.useEffect)((()=>{let e=window;function t(e){let t=0;"1"===e.key&&n(le.PEEK_DFL),"2"===e.key&&n(le.PEEK_DFR),"3"===e.key&&n(le.PEEK_UFL),"9"===e.key&&n(le.PEEK_UBL),"0"===e.key?n(le.PEEK_UBR):t=1}function s(e){n(le.HOME)}return e.addEventListener("keydown",t),e.addEventListener("keyup",s),()=>{e.removeEventListener("keydown",t),e.addEventListener("keyup",s)}})),Object(r.useEffect)((()=>{let e=t.current;return e.appendChild(m.getRenderer().domElement),()=>{e.removeChild(m.getRenderer().domElement)}})),Object(ae.jsx)("div",{ref:t,style:{width:e.width,height:e.height,zIndex:1}})},ue=s(253),me=s(228),fe=s(234),be=s(258);class ge{deserialize(e){let t=JSON.parse(e);return this.set(t),this}serialize(){let{cp:e,co:t,ep:s,eo:r,tp:a}=this;return JSON.stringify({cp:e,co:t,ep:s,eo:r,tp:a})}Id(){return this.set({cp:[0,1,2,3,4,5,6,7],co:[0,0,0,0,0,0,0,0],ep:[0,1,2,3,4,5,6,7,8,9,10,11],eo:[0,0,0,0,0,0,0,0,0,0,0,0],tp:[0,1,2,3,4,5]}),this}clone(){return new ge({cp:[...this.cp],co:[...this.co],ep:[...this.ep],eo:[...this.eo],tp:[...this.tp]})}constructor(e){this.cp=[],this.co=[],this.ep=[],this.eo=[],this.tp=[],e instanceof ge?this.set({cp:e.cp,co:e.co,ep:e.ep,eo:e.eo,tp:e.tp}):e?(this.cp=e.cp,this.co=e.co,this.ep=e.ep,this.eo=e.eo,this.tp=e.tp||[0,1,2,3,4,5]):this.Id()}set(e){this.cp=e.cp||this.cp,this.co=e.co||this.co,this.ep=e.ep||this.ep,this.eo=e.eo||this.eo,this.tp=e.tp||this.tp}_apply_partial(e,t,s,r,a){let n=[...e],o=[...t];for(let c=0;c<s.length;c++){let l=r[c][0],i=r[c][1];o[i]=t[l],n[i]=(e[l]+s[c])%a}return[n,o]}_apply_partial_perm(e,t,s){let r=[...e];for(let a=0;a<t.length;a++){let s=t[a][0];r[t[a][1]]=e[s]}return r}apply_one(e){let[t,s]=this._apply_partial(this.co,this.cp,e.coc,e.cpc,3),[r,a]=this._apply_partial(this.eo,this.ep,e.eoc,e.epc,2),n=this._apply_partial_perm(this.tp,e.tpc,1);return new ge({co:t,cp:s,eo:r,ep:a,tp:n})}static generate_apply_partial_func_perm(e,t,s){return`\n        let ${s}_new = [...${s}];\n        src = 0, dst = 0;\n        ${Array(e.length).fill(0).map(((t,r)=>{let a=e[r][0],n=e[r][1];return`\n                ${s}_new[${n}] =  ${s}[${a}];\n            `})).join("\n")}\n        // return [ ${s}_new]\n        `}static generate_apply_partial_func(e,t,s,r,a){return`\n        let ${r}_new = [...${r}];\n        let ${a}_new = [...${a}];\n        src = 0, dst = 0;\n        ${Array(e.length).fill(0).map(((n,o)=>{let c=t[o][0],l=t[o][1],i=e[o];return`\n                ${a}_new[${l}] =  ${a}[${c}];\n                ${r}_new[${l}] = (${r}[${c}] + ${i}) % ${s};\n            `})).join("\n")}\n        // return [${r}_new, ${a}_new]\n        `}static generate_apply_func(e){return new Function("cube",`\n        let {co, cp, eo, ep, tp} = cube;\n        ${ge.generate_apply_partial_func(e.coc,e.cpc,3,"co","cp")}\n        ${ge.generate_apply_partial_func(e.eoc,e.epc,2,"eo","ep")}\n        ${ge.generate_apply_partial_func_perm(e.tpc,1,"tp")}\n        return ({ co: co_new, cp: cp_new, eo: eo_new,\n            ep: ep_new, tp: tp_new })\n        `)}apply(e){if(Array.isArray(e)||e instanceof ve){let t=Array.isArray(e)?e:e.moves,s=this.clone();for(let e=0;e<t.length;e++)s=s.apply_one(t[e]);return s}return"string"===typeof e?this.apply(new ve(e)):this.apply_one(e)}static _rotate_coord(e){let t=[...e],s=t[t.length-1];for(let r=t.length-1;r>0;r--)t[r]=t[r-1];return t[0]=s,t}static _backward_rotate_coord(e){let t=[...e],s=t[0];for(let r=0;r<t.length-1;r++)t[r]=t[r+1];return t[t.length-1]=s,t}_to_facelet_mapping(e,t,s){let r=[];for(let a=0;a<8;a++){let t=e[a],s=e[this.cp[a]];for(let e=0;e<this.co[a];e++)s=ge._rotate_coord(s);r.push([t,s])}for(let a=0;a<12;a++){let e=t[a],s=t[this.ep[a]];for(let t=0;t<this.eo[a];t++)s=ge._rotate_coord(s);r.push([e,s])}for(let a=0;a<6;a++){let e=s[a],t=s[this.tp[a]];r.push([e,t])}return r}_from_facelet_mapping(e,t,s,r){let a=new ge,n=(e,t,s,r)=>{let a=new Map(s.map(((e,t)=>[e.toString(),t]))),n=0;for(;!a.has(e.toString())&&(e=ge._backward_rotate_coord(e),n--,!(n<=-r)););for(;!a.has(t.toString());)if(t=ge._backward_rotate_coord(t),n++,n>=10){console.warn("can't match piece",t,a);break}return n=(n+r)%r,[n,a.get(e.toString()),a.get(t.toString())]};for(let o of e){let e=o[0],c=o[1],l=2===e.length?s:3===e.length?t:r,[i,h,p]=n(e,c,l,e.length);2===e.length?(a.eo[h]=i,a.ep[h]=p):3===e.length?(a.co[h]=i,a.cp[h]=p):a.tp[h]=p}return a}to_cstimer_cube(){let e=this._to_facelet_mapping(k,S,F);return this._from_facelet_mapping(e,L,M,F)}is_solveable(){0!==this.tp[0]&&this.apply(new ve("M2"));let e=(Z(this.cp)+Z(this.ep))%2===0,t=this.co.reduce(((e,t)=>e+t),0)%3===0&&this.eo.reduce(((e,t)=>e+t),0)%2===0;return e&&t}changeBasis(e){let t=this._to_facelet_mapping(k,S,F),s=e.moves.reduce(((e,t)=>{let s=Object.fromEntries(t.tpc);return e.map((e=>{let[t,r]=e;return[t.map((e=>{var t;return null!==(t=s[e])&&void 0!==t?t:e})),r.map((e=>{var t;return null!==(t=s[e])&&void 0!==t?t:e}))]}))}),t);return this._from_facelet_mapping(s,k,S,F)}}class je{constructor(e,t){this.cpc=[],this.coc=[],this.epc=[],this.eoc=[],this.tpc=[],this.name="",Array.isArray(e)?this.from_moves(e,t):e instanceof je?(this.cpc=[...e.cpc],this.coc=[...e.coc],this.epc=[...e.epc],this.eoc=[...e.eoc],this.tpc=[...e.tpc],this.name=t):e instanceof ge?this.from_cube(e,t):e&&this.set(e)}set(e){this.cpc=e.cpc,this.coc=e.coc,this.epc=e.epc,this.eoc=e.eoc,this.tpc=e.tpc,this.name=e.name}from_cube(e,t){let s=(e,t,s,r)=>{for(let a=0;a<e.length;a++)a===e[a]&&0===t[a]||(s.push([e[a],a]),r.push(t[a]))};return s(e.cp,e.co,this.cpc,this.coc),s(e.ep,e.eo,this.epc,this.eoc),s(e.tp,[0,0,0,0,0,0],this.tpc,[]),this.name=t,this}from_moves(e,t){return this.from_cube((new ge).apply(e),t),this}clone(){return new je(this,this.name)}static make_rot_set(e){return[e,(new je).from_moves([e,e],e.name+"2"),(new je).from_moves([e,e,e],e.name+"'")]}inv(){let e;switch(this.name[this.name.length-1]){case"'":e=this.name.slice(0,this.name.length-1);break;case"2":e=this.name;break;default:e=this.name+"'"}return je.all[e]}toString(){return this.name}}je.generate_base_moves=()=>{let e=je.make_rot_set,t=e(new je(B)),s=e(new je(D)),r=e(new je(E)),a=e(new je(C)),n=e(new je(A)),o=e(new je(N)),c=e(new je(P)),l=e(new je(T)),i=e(new je(z)),h=e(new je([new je(E),c[2]],"r")),p=e(new je([new je(C),new je(P)],"l")),d=e(new je([new je(B),new je(T)],"u")),u=e(new je([new je(D),new je(z)],"f")),m=new je([new je(E),a[2],c[2]],"x"),f=e(m),b=new je([new je(B),new je(T),n[2]],"y"),g=e(b),j=e(new je([m,b,m,m,m],"z")),v=[new je(new ge,"id"),t,s,r,a,n,o,c,l,i,f,g,j,h,p,d,u].flat(),_=Object.create({});return v.forEach((e=>_[e.name]=e)),_},je.all=je.generate_base_moves();class ve{constructor(e){this.moves=[],"string"===typeof e?this.parse(e):this.moves=e}toQuarter(){let e=[];for(let t=0;t<this.moves.length;t++){let s=this.moves[t];if("2"===s.name[1]){let t=ve.quarterMap[s.name]||s.name[0];e.push(je.all[t]),e.push(je.all[t])}else e.push(s)}return new ve(e)}static _combine(e,t){const s=e=>1===e.length?1:"2"===e[1]?2:3,r=e=>1===e?"":2===e?"2":"'";if(e.name[0]===t.name[0]){let a=(s(e.name)+s(t.name))%4;return new ve(0===a?[]:[je.all[e.name[0]+r(a)]])}return new ve([e,t])}remove_setup(){let e=new Set(["x","x'","x2","y","y'","y2","z","z'","z2"]);for(;this.moves.length>0&&e.has(this.moves[0].name);)this.moves.shift();return this}parse_line(e){let t=[],s="",r=e.search(/\/\//);r>-1&&(e=e.slice(0,r));for(let n=0;n<e.length;n++){let r=e[n];if("2"===r||"'"===r)1===s.length&&(s+=e[n],t.push(s),s="");else if(" "===r)s.length>0&&(t.push(s),s="");else{const a=r.charCodeAt(0);(65<=a&&a<91||97<=a&&a<123)&&(s.length>0&&(t.push(s),s=""),s+=e[n])}}let a=[];s.length>0&&t.push(s);for(let n of t){let e=je.all[n];e&&a.push(e)}return a}parse(e){return this.moves=e.split("\n").map((e=>this.parse_line(e))).flat(),this}collapse(){let e=[],t=this.moves;for(;t.length>0;){const s=t.shift();if(0===e.length)e.push(s);else{const t=e.pop(),r=ve._combine(t,s);for(let s of r.moves)e.push(s)}}return new ve(e)}inv(){let e=this.moves.slice(0).reverse().map((e=>e.inv())).flat();return new ve(e)}slice(e){let t=this.moves.slice(0,e);return new ve(t)}length(){return this.moves.length}static add_auf(e,t){t=t||[je.all.id,je.all.U,je.all["U'"],je.all.U2];let s=X(t);s instanceof ve?e.concat(s.moves):e.push(s)}toString(e){return this.moves.map((e=>e.toString())).join(" ")+" "+(e?"("+this.moves.length+")":"")}}ve.quarterMap={U2:"U'",R2:"R'",r2:"r'",M2:"M'",L2:"L"};let _e=function(){let e=(e,t)=>{let s=[...e],r=(t,r,a)=>{let n=(e=>{switch(e){case R:return 3;case w:return 2;case U:return 1}})(a),[o,c]=t;for(let l=0;l<e.length;l++){let[t,i,h]=e[l];h===a&&t===o&&(s[l]=[c,(i+r)%n,a])}};for(let a=0;a<t.cpc.length;a++)r(t.cpc[a],t.coc[a],R);for(let a=0;a<t.epc.length;a++)r(t.epc[a],t.eoc[a],w);for(let a=0;a<t.tpc.length;a++)r(t.tpc[a],0,U);return s},t=(e,t,s)=>k[e][(3-t+s)%3],s=(e,t,s)=>S[e][(2-t+s)%2],r=e=>[g,j,v,_,x,O][e],a=(e,a)=>{let[n,o,c]=a;if(c===R)return t(e.cp[n],e.co[n],o);if(c===w)return s(e.ep[n],e.eo[n],o);if(c===U)return r(e.tp[n]);throw Error("unidentified type "+c)},n=je.all,{d_face:o,l_face:c,r_face:l,b_face:i}={d_face:e(W,n["x'"]),l_face:e(W,n.y),r_face:e(W,n["y'"]),b_face:e(W,n.y2)};return{from_cubie:(e,n)=>{let h=[I,o,W,i,c,l];return n?h.map((a=>((e,a,n)=>a.map((a=>{let[o,c,l]=a;if(l===R)return 1===n.cp[e.cp[o]]?t(e.cp[o],e.co[o],c):b.X;if(l===w)return 1===n.ep[e.ep[o]]?s(e.ep[o],e.eo[o],c):b.X;if(l===U)return n.tp&&0===n.tp[e.tp[o]]?b.X:r(e.tp[o]);throw Error("unidentified type "+l)})))(e,a,n))):h.map((t=>((e,t)=>t.map((t=>a(e,t))))(e,t)))},to_unfolded_cube_str:e=>{let t=[0,0,0,0,0,0],s={U:g,D:j,F:v,B:_,L:x,R:O},r="";for(let a=0;a<H.length;a++){let n=H[a];if(s.hasOwnProperty(n)){let a=s[n],o=t[a];r+="UDFBLR"[e[a][o]],t[a]+=1}else r+=H[a]}return r},color_of_sticker:a,color_of_e:s,as_actrm:(e,t,s)=>{const r="lr"===t?[b.L,b.R]:[b.F,b.B],a=[b.U,...r];return e.map(((e,t)=>0===t?e.map((e=>a.includes(e)?e:b.X)):t>=2?e.map(((e,t)=>(s?r:a).includes(e)||t>2?e:b.X)):[...e]))},as_kata:e=>{console.log(e);let{F:t,B:s,L:r,R:a,U:n}=b;const o=[[[n,0],[n,2],[n,6],[n,8]],[[n,0],[n,2],[r,2],[a,0]],[[n,2],[n,8],[s,2],[t,0]],[[n,6],[n,8],[r,0],[a,2]],[[n,0],[n,6],[s,0],[t,2]],[[n,2],[n,6],[t,2],[s,2]],[[n,0],[n,8],[r,2],[a,2]],[[t,0],[t,2],[a,0],[a,2]]];let c=!1;for(let l of o){let t=0;for(let[s,r]of l)t+=e[s][r]!==b.U?1:0;if(t===l.length){for(let t of[b.L,b.R,b.F,b.B,b.U])for(let s=0;s<(t===b.U?9:3);s++)if(e[t][s]!==b.U){Array(4).fill(0).map(((e,r)=>l[r][0]===t&&l[r][1]===s)).includes(!0)||(e[t][s]=b.X)}c=!0;break}}return c||alert("recog shape not found"),e},faces:{u_face:I,d_face:o,l_face:c,r_face:l,f_face:W,b_face:i}}}();const xe={cp:[1,1,1,1,1,1,1,1],ep:[0,0,0,0,0,1,0,1,1,1,1,1]};let Oe=(()=>{function e(e,t){return e.map((e=>{let[s,r,a]=e;return[s,r,a,t]}))}let{u_face:t,d_face:s,l_face:r,r_face:a,f_face:n,b_face:o}=_e.faces,c=[...e(t,g),...e(s,j),...e(r,x),...e(a,O),...e(n,v),...e(o,_)],l=function(){let e=c.filter((e=>e[2]===y.E)),t=c.filter((e=>e[2]===y.C)),s=Array(12).fill(0).map((e=>Array(0)));e.map((e=>s[e[0]].push(e)));let r=Array(8).fill(0).map((e=>Array(0)));t.map((e=>r[e[0]].push(e)));const a=[];for(let o=0;o<12;o++)for(let e=0;e<8;e++){let t=s[o],n=r[e],c=0;t.forEach((e=>{n.forEach((t=>{e[3]===t[3]&&c++}))})),2===c&&a.push([o,e])}let n=(e,t)=>_e.color_of_sticker(e,[t[0],t[1],t[2]]);return e=>{let t=[];for(let[o,c]of a){let a=s[o],l=r[c],i=0;a.forEach((t=>{const s=l.filter((e=>t[3]===e[3]))[0];n(e,t)===n(e,s)&&i++})),2===i&&t.push([o,c])}return t}}();const i=[[],je.all.U,je.all["U'"],je.all.U2],h=[[],je.all.M2];const p=["","y","y'","y2","x2","x2y","x2y'","x2y2","x","xy","xy'","xy2","x'","x'y","x'y'","x'y2","z","zy","zy'","zy2","z'","z'y","z'y'","z'y2"];let d=e=>{let{co:t,eo:s,cp:r,ep:a}=e;t=t||r,s=s||a;let n,o,c,l=(e,t)=>{let s,r=Array(e.length).fill(0),a=t===R?3:2;do{s=0;for(let t in e)0===e[t]&&(r[t]=V(a),s+=r[t])}while(s%a>0);return r},i=e=>{let t=Array(e.length).fill(0),s=[];for(let r=0;r<e.length;r++)0===e[r]?s.push(r):t[r]=r;!function(e){for(let t=0,s=e.length;t<s-1;t++){let r=K(t,s-1),a=e[t];e[t]=e[r],e[r]=a}}(s);for(let r=0,a=0;r<e.length;r++)0===e[r]&&(t[r]=s[a],a+=1);return t};do{[n,o]=[i(r),i(a)],c=Z(n)+Z(o)&1}while(c>0);return new ge({co:l(t,R),cp:n,eo:l(s,w),ep:o})};return{is_cmll_solved:e=>((e,t,s)=>{let{co:r,eo:a,cp:n,ep:o}=t;r=r||n,a=a||o;for(let c of s){let t=e.apply(c),s=!0;for(let e=0;e<8&&s;e++)(r[e]&&0!==t.co[e]||n[e]&&t.cp[e]!==e)&&(s=!1);for(let e=0;e<12&&s;e++)(a[e]&&0!==t.eo[e]||o[e]&&t.ep[e]!==e)&&(s=!1);if(s)return!0}return!1})(e,xe,i),is_solved:(e,t)=>{let{co:s,cp:r,eo:a,ep:n,tp:o}=t,c=s||r,l=a||n,i=o||Array(6).fill(1);return!!c.every(((t,s)=>(0===r[s]||e.cp[s]===s)&&(0===c[s]||0===e.co[s])))&&(!!l.every(((t,s)=>(0===n[s]||e.ep[s]===s)&&(0===l[s]||0===e.eo[s])))&&i.every(((t,s)=>0===i[s]||e.tp[s]===s)))},get_random_lse:()=>d(xe).apply(X(h)),get_random_with_mask:d,is_cube_solved:e=>{let t=new ge;return J(e.co,t.co)&&J(e.eo,t.eo)&&J(e.cp,t.cp)&&J(e.ep,t.ep)},find_pairs:l,stickers:c,rebase_to_edge:(e,t)=>{for(let s of p){const r=e.apply(s);if(r.ep[t]===t)return[r,s]}return[e,""]}}})();class ye extends class{constructor(){this.name=void 0}save(){window.localStorage.setItem(this.name,this.serialize())}load(){const e=window.localStorage.getItem(this.name);e?this.deserialize(e):this._setDefault()}}{constructor(e){super(),this.name="colorscheme",this.colors={},e||this.load()}toUserInput(){return"GBROYWX".split("").map((e=>this.colors[e]))}set(e){let t=new ye(!0);return Array.isArray(e)?e.forEach(((e,s)=>t.colors["GBROYWX"[s]]=e)):t.colors={...this.colors,...e},t.save(),t}setWithDefault(){let e=new ye(!0);return e._setDefault(),e.save(),e}_setDefault(){this.colors=ye.default_colors}serialize(){return JSON.stringify(this.colors)}deserialize(e){this.colors=JSON.parse(e)}getColorsForOri(e){let t=(ye.valid_schemes_map.get(e)||ye.valid_schemes_map.get("WG"))+"X",s=[];for(let r=0;r<t.length;r++)s.push(this.colors[t[r]]);return s}}ye.default_colors={G:"#00b500",B:"#0000ff",R:"#ff0000",O:"#ff8800",Y:"#ffff00",W:"#ffffff",X:"#bfbfbf"},ye.valid_schemes=["WYGBOR","WYBGRO","WYROGB","WYORBG","YWGBRO","YWBGOR","YWROBG","YWORGB","GBWYRO","GBYWOR","GBROYW","GBORWY","BGWYOR","BGYWRO","BGROWY","BGORYW","ORWYGB","ORYWBG","ORGBYW","ORBGWY","ROWYBG","ROYWGB","ROGBWY","ROBGYW"],ye.valid_schemes_map=new Map(ye.valid_schemes.map((e=>[e[0]+e[2],e])));let Re={lse_mask:xe,fs_back_mask:{cp:[0,0,0,0,0,1,0,0],ep:[0,0,0,0,0,1,0,0,0,1,0,0],tp:[0,0,0,0,1,1]},fs_front_mask:{cp:[0,0,0,0,1,0,0,0],ep:[0,0,0,0,0,1,0,0,1,0,0,0],tp:[0,0,0,0,1,1]},fbdr_mask:{cp:[0,0,0,0,1,1,0,0],ep:[0,0,0,0,0,1,0,1,1,1,0,0],tp:[0,0,0,0,1,1]},fb_mask:{cp:[0,0,0,0,1,1,0,0],ep:[0,0,0,0,0,1,0,0,1,1,0,0],tp:[0,0,0,0,1,1]},f2b_mask:{cp:[0,0,0,0,1,1,1,1],ep:[0,0,0,0,0,1,0,1,1,1,1,1],tp:[0,0,0,0,1,1]},sb_mask:{cp:[0,0,0,0,1,1,1,1],ep:[0,0,0,0,0,1,0,1,1,1,1,1],tp:[0,0,0,0,1,1]},cmll_mask:{cp:[1,1,1,1,1,1,1,1],ep:[0,0,0,0,0,1,0,1,1,1,1,1],tp:[0,0,0,0,1,1]},ss_front_mask:{cp:[0,0,0,0,1,1,0,1],ep:[0,0,0,0,0,1,0,1,1,1,0,1],tp:[0,0,0,0,1,1]},ss_back_mask:{cp:[0,0,0,0,1,1,1,0],ep:[0,0,0,0,0,1,0,1,1,1,1,0],tp:[0,0,0,0,1,1]},ssdp_front_mask:{cp:[0,0,0,0,1,1,0,1],ep:[0,0,0,0,0,1,0,1,1,1,0,0],tp:[0,0,0,0,1,1]},ssdp_back_mask:{cp:[0,0,0,0,1,1,1,0],ep:[0,0,0,0,0,1,0,1,1,1,0,0],tp:[0,0,0,0,1,1]},ssdp_both_mask:{cp:[0,0,0,0,1,1,1,1],ep:[0,0,0,0,0,1,0,1,1,1,0,0],tp:[0,0,0,0,1,1]},empty_mask:{cp:[0,0,0,0,0,0,0,0],ep:[0,0,0,0,0,0,0,0,0,0,0,0]},dl_solved_mask:{cp:[0,0,0,0,0,0,0,0],ep:[0,0,0,0,0,1,0,0,0,0,0,0]},bl_solved_mask:{cp:[0,0,0,0,0,0,0,0],ep:[0,0,0,0,0,0,0,0,0,1,0,0]},solved_mask:{cp:[1,1,1,1,1,1,1,1],ep:[1,1,1,1,1,1,1,1,1,1,1,1]},zhouheng_mask:{cp:[0,0,0,0,0,0,0,0],ep:[0,0,0,0,0,1,0,1,1,1,0,0],tp:[0,0,0,0,1,1]},lse_4c_mask:{cp:[1,1,1,1,1,1,1,1],ep:[0,1,0,1,0,1,0,1,1,1,1,1],eo:[1,1,1,1,1,1,1,1,1,1,1,1]},copy:function(e){return{co:e.co&&[...e.co],eo:e.eo&&[...e.eo],tp:e.tp&&[...e.tp],cp:[...e.cp],ep:[...e.ep]}}};var we=s(6),Ue=s(229),ke=s(254),Se=s(244),Fe=s(184),Le=s(259),Me=s(3),Be=s(56),De=s.n(Be),Ee=s(242),Ce=s(243);const Ae=Object(h.a)((e=>({container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(2),backgroundColor:e.palette.background.default},button:{width:"100%"},paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"},canvasPaper:{padding:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column"},infoColumn:{color:e.palette.background.paper},scrambleColumn:{paddingLeft:e.spacing(3)},textColumn:{[e.breakpoints.up("sm")]:{minHeight:138}},fixedHeight:{height:250},title:{flexGrow:1},select:{color:e.palette.text.primary},selectLabel:{color:e.palette.text.secondary}})));const Ne=Object(Me.a)(Ce.b)({"& .MuiSlider-markLabel":{fontSize:"1rem"}});function Pe(e){let{slider:t}=e,s=Ae();t.label;let r=a.a.useMemo((()=>{let e=[{value:t.l-1,label:"Any"}];for(let s=t.l;s<=t.r;s++){let r="";s===t.l&&t.extend_l&&(r="-"),s===t.r&&t.extend_r&&(r="+"),e.push({value:s,label:s.toString()+r})}return e}),[t.l,t.r,t.extend_l,t.extend_r]);return Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(me.a,{component:"legend",className:s.selectLabel,children:"Level"}),Object(ae.jsx)(l.a,{paddingX:5,children:Object(ae.jsx)(Ne,{marks:r,track:!1,min:t.l-1,max:t.r,value:t.value,onChange:(s,r)=>{let a=Array.isArray(r)?r[0]:r;t.l-1<=a&&a<=t.r&&e.onChange(a)},onFocus:e=>e.target.blur(),style:{fontSize:"1.2rem"}})})]})}function Te(e){let t=e.select,s=e.state.config[t];return Object(ae.jsx)(Pe,{slider:e.state.config[t],onChange:r=>{e.dispatch({type:"config",content:{[t]:{...s,value:r}}})}})}function ze(e){let{state:t,dispatch:s,select:r}=e,{config:a}=t,n=a[r],o=Ae();let c=function(){let{names:e,flags:t}=n;for(let s=0;s<t.length;s++)if(1===t[s])return e[s];return""}(),l=n.label||e.label||"";return Object(ae.jsxs)(ue.a,{component:"fieldset",className:o.select,children:[Object(ae.jsx)(me.a,{component:"legend",className:o.selectLabel,children:l}),Object(ae.jsx)(Ue.a,{"aria-label":"position",name:"position",value:c,onChange:e=>{let{names:t}=n,a=t.length,o=Array(a).fill(0);for(let s=0;s<t.length;s++)t[s]===e.target.value&&(o[s]=1);s({type:"config",content:{[r]:n.setFlags(o)}})},row:!0,children:n.names.map((e=>Object(ae.jsx)(ke.a,{value:e,control:Object(ae.jsx)(Ee.a,{color:"primary"}),label:e,labelPlacement:"end"},e)))})]})}function Ie(e){let{state:t,dispatch:s,select:r,options:n}=e;n=n||{};let{config:o}=t,c=o[r];const l=e=>{let{names:t,flags:a}=c,n=[...a];for(let s=0;s<t.length;s++)t[s]===e.target.value&&(n[s]=e.target.checked?1:0);s({type:"config",content:{[r]:c.setFlags(n)}})};const[i,h]=a.a.useState({});let p=c.label||n.label||"",d=n.manipulators?Object(ae.jsx)(Fe.a,{row:!0,children:n.manipulators.map((e=>(e=>{let{name:t,enableIdx:a}=e;return Object(ae.jsx)(ke.a,{control:Object(ae.jsx)(Se.a,{color:"primary",checked:i[t],onChange:e=>{h({...i,[t]:e.target.checked});let n=e.target.checked,{flags:o}=c,l=[...o];for(let t of a)l[t]=n?1:0;s({type:"config",content:{[r]:c.setFlags(l)}})}}),label:t,value:t},t)})(e)))}):null;return{label:p,content:Object(ae.jsxs)(a.a.Fragment,{children:[d,Object(ae.jsx)(Fe.a,{row:!0,children:c.names.map(((e,t)=>((e,t)=>Object(ae.jsx)(ke.a,{control:Object(ae.jsx)(Se.a,{color:"primary",checked:t,onChange:l}),label:e,value:e},e))(e,!!c.flags[t])))})]})}}function We(e){let{state:t,dispatch:s,select:r,options:n}=e,{label:o,content:c}=Ie({state:t,dispatch:s,select:r,options:n});n=n||{};const[h,m]=a.a.useState(!1),f=()=>{m(!1)};let b=Ae();return n.noDialog?Object(ae.jsxs)(ue.a,{component:"fieldset",className:b.select,children:[Object(ae.jsx)(me.a,{component:"legend",className:b.selectLabel,children:o}),c]}):Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(me.a,{component:"legend",children:o}),Object(ae.jsx)(l.a,{height:8}),Object(ae.jsxs)(i.a,{color:"primary",variant:"outlined",style:{borderWidth:2},onClick:()=>{m(!0)},children:[Object(ae.jsx)(De.a,{fontSize:"small",color:"primary",style:{marginLeft:-6,marginRight:3}}),"Edit"]}),Object(ae.jsx)(l.a,{height:8}),Object(ae.jsxs)(p.a,{disableEscapeKeyDown:!0,open:h,onClose:f,children:[Object(ae.jsxs)(Le.a,{children:[" ",o," "]}),Object(ae.jsx)(d.a,{children:c}),Object(ae.jsx)(u.a,{children:Object(ae.jsx)(i.a,{onClick:f,color:"primary",children:"Ok"})})]})]})}var Ye=s(262);function Ge(e){const[t,s]=a.a.useState(e.state.colorScheme.toUserInput().join(","));return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(l.a,{children:Object(ae.jsx)(Ye.a,{label:"Color",helperText:"G,B,R,O,Y,W,Gray",onChange:e=>s(e.target.value),fullWidth:!0,value:t})}),Object(ae.jsx)(l.a,{children:Object(ae.jsx)(i.a,{variant:"outlined",size:"medium",color:"primary",onClick:()=>{let s=t.split(",");e.dispatch({type:"colorScheme",content:7===s.length?s:ye.default_colors})},children:"Set color"})})]})}function He(e){let{state:t,dispatch:s}=e,{content:r}=Ie({state:t,dispatch:s,select:"orientationSelector"});const[n,o]=a.a.useState(!1);return Object(ae.jsxs)("div",{children:[Object(ae.jsx)(me.a,{component:"legend",children:"Orientation and Color Scheme"}),Object(ae.jsx)(l.a,{height:8}),Object(ae.jsxs)(i.a,{color:"primary",variant:"outlined",style:{borderWidth:2},onClick:()=>{o(!0)},children:[Object(ae.jsx)(De.a,{fontSize:"small",color:"primary",style:{marginLeft:-6,marginRight:3}}),"Edit"]}),Object(ae.jsx)(l.a,{height:8}),Object(ae.jsxs)(p.a,{disableEscapeKeyDown:!0,open:n,onClose:(e,t)=>{"backdropClick"===t&&o(!1)},children:[Object(ae.jsx)(Le.a,{children:" Set Orientation (U-F) and Color Scheme  "}),Object(ae.jsxs)(d.a,{children:[r,Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(Ge,{state:t,dispatch:s})]}),Object(ae.jsx)(u.a,{children:Object(ae.jsx)(i.a,{onClick:()=>o(!1),color:"primary",children:"Close"})})]})]})}var $e=s(117);var Ve=function(e){const t=a.a.useRef(null);return Object(r.useEffect)((()=>{let s=t.current;if(s){const t={width:e.size,height:e.size,view:"plan",algorithm:new ve(e.alg).inv().toString(),mask:e.mask,...e.cubeOptions},r=e.color;r&&(t.colorScheme=[r[0],r[5],r[2],r[1],r[4],r[3]]),$e.cubeSVG(s,t)}return()=>{s&&(s.innerHTML="")}})),Object(ae.jsx)("div",{ref:t})};const Ke={fullWidth:!1};var Xe=s(267),qe=s(104),Ze=s.n(qe),Je=s(105),Qe=s.n(Je),et=s(50),tt=s(130),st=s(235);const rt={components:{MuiSlider:{styleOverrides:{root:{height:100},track:{height:100}}}}},at=Object(tt.a)(Object(st.a)({name:"bright",palette:{primary:{main:"#556cd6"},secondary:{main:"#d32f2f"},error:{main:et.a.A400},background:{default:"#eeeeef",paper:"#fff"},text:{primary:"#000",secondary:"#888",disabled:"#556cd6"}},...rt})),nt=Object(tt.a)(Object(st.a)({name:"dark",palette:{primary:{main:"#9FA4C2"},secondary:{main:"#ffffff"},error:{main:et.a.A400},background:{default:"#121212",paper:"#252525"},text:{primary:"#fff",secondary:"#ddd",disabled:"#eee"}},overrides:{MuiDivider:{root:{backgroundColor:"rgba(255, 255 ,255, 0.3)"}}},...rt}));const ot=Object(h.a)((e=>({caseBoxOn:{backgroundColor:"#556cd6"===e.palette.primary.main?"#bdedff":e.palette.primary.main},groupBox:{}})));var ct,lt,it=(ct=function(e){let{selector:t,groups:s,algs:r,visualizeMask:a}=e.settings;const n=e.state.config[t],o=function(e,t,s){const r=Object.fromEntries(t.map((e=>[e,[]])));return e.forEach(((e,t)=>{const s=e[0].split("_",1)[0];s in r&&r[s].push([e,t])})),r}(r,s,n.flags),h=(s,r)=>()=>{const a=[...n.flags];o[s].forEach((e=>{let[t,s]=e;a[s]=r})),e.dispatch({type:"config",content:{[t]:n.setFlags(a)}})},p=s=>()=>{const r=Array(n.flags.length).fill(s);e.dispatch({type:"config",content:{[t]:n.setFlags(r)}})},d=ot(),u=Object(ee.a)(at.breakpoints.up("sm"));return Object(ae.jsxs)(l.a,{display:"flex",flexDirection:"column",marginRight:10,children:[Object(ae.jsx)(l.a,{marginBottom:3,children:Object(ae.jsxs)(Xe.a,{color:"primary",style:{height:"2rem"},children:[Object(ae.jsx)(i.a,{onClick:p(1),startIcon:Object(ae.jsx)(Ze.a,{}),children:"Select All"}),Object(ae.jsx)(i.a,{onClick:p(0),startIcon:Object(ae.jsx)(Qe.a,{}),children:"Deselect All"})]})}),s.map(((s,r)=>Object(ae.jsxs)(l.a,{display:"flex",flexDirection:u?"row":"column",className:d.groupBox,marginBottom:2,children:[Object(ae.jsxs)(l.a,{display:"flex",flexDirection:u?"column":"row",marginRight:4,children:[Object(ae.jsx)(l.a,{marginRight:2,children:Object(ae.jsx)(c.a,{variant:"h5",gutterBottom:!0,children:s[0].toUpperCase()+s.substr(1)})}),Object(ae.jsx)(l.a,{display:"flex",alignItems:"center",children:Object(ae.jsxs)(Xe.a,{color:"primary",variant:"contained","aria-label":"outlined primary button group",style:{height:"3.7rem"},children:[Object(ae.jsx)(i.a,{onClick:h(s,1),startIcon:Object(ae.jsx)(Ze.a,{})}),Object(ae.jsx)(i.a,{variant:"outlined",onClick:h(s,0),startIcon:Object(ae.jsx)(Qe.a,{})})]})})]}),Object(ae.jsx)(l.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",children:o[s].map((s=>{let[[r,o],c]=s;return Object(ae.jsx)(l.a,{border:1,borderColor:"primary.main",onClick:(i=c,()=>{const s=[...n.flags];s[i]=0===s[i]?1:0,e.dispatch({type:"config",content:{[t]:n.setFlags(s)}})}),style:{transition:"all .3s ease"},className:n.flags[c]?d.caseBoxOn:"",children:Object(ae.jsx)(Ve,{name:r,size:100,alg:o,mask:a,cubeOptions:e.settings.cubeOptions||{}})},r);var i}))}),Object(ae.jsx)(fe.a,{})]},r)))]})},function(e){lt=lt||Ke;const t=e.title||e.label,[s,r]=a.a.useState(!1),n=()=>{r(!1)};return Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(me.a,{component:"legend",children:e.label}),Object(ae.jsx)(l.a,{height:8}),Object(ae.jsxs)(i.a,{color:"primary",variant:"outlined",style:{borderWidth:2},onClick:()=>{r(!0)},children:[Object(ae.jsx)(De.a,{fontSize:"small",color:"primary",style:{marginLeft:-6,marginRight:3}}),"SELECT"]}),Object(ae.jsx)(l.a,{height:8}),Object(ae.jsxs)(p.a,{disableEscapeKeyDown:!0,open:s,onClose:n,maxWidth:"md",style:{marginLeft:10,marginRight:10},children:[Object(ae.jsxs)(Le.a,{children:[" ",t," "]}),Object(ae.jsx)(d.a,{children:Object(ae.jsx)(l.a,{paddingLeft:1,children:Object(ae.jsx)(ct,{...e})})}),Object(ae.jsx)(u.a,{children:Object(ae.jsx)(i.a,{onClick:n,color:"primary",size:"large",children:"CLOSE"})})]})]})});let ht=(e,t,s,r)=>({id:e,algs:[t],kind:s,setup:r});const pt=ht("empty","","any"),dt=[["o_adjacent_swap","R U R' F' R U R' U' R' F R2 U' R'"],["o_diagonal_swap","F R U' R' U' R U R' F' R U R' U' R' F R F'"],["h_columns","U' R U R' U R U' R' U R U2 R'"],["h_rows","F R U R' U' R U R' U' R U R' U' F'"],["h_column","U' R U2' R2' F R F' U2 R' F R F'"],["h_row","r U' r2' D' r U' r' D r2 U r'"],["pi_right_bar","F R U R' U' R U R' U' F'"],["pi_back_slash","U F R' F' R U2 R U' R' U R U2' R'"],["pi_x_checkerboard","U' R' F R U F U' R U R' U' F'"],["pi_forward_slash","R U2 R' U' R U R' U2' R' F R F'"],["pi_columns","U' r U' r2' D' r U r' D r2 U r'"],["pi_left_bar","U' R' U' R' F R F' R U' R' U2 R"],["u_forward_slash","U2 R2 D R' U2 R D' R' U2 R'"],["u_back_slash","R2' D' R U2 R' D R U2 R"],["u_front_row","R' U' R U' R' U2 R2 U R' U R U2 R'"],["u_rows","U' F R2 D R' U R D' R2' U' F'"],["u_x_checkerboard","U2 r U' r' U r' D' r U' r' D r"],["u_back_row","U' F R U R' U' F'"],["t_left_bar","U' R U R' U' R' F R F'"],["t_right_bar","U L' U' L U L F' L' F"],["t_rows","R U2 R' U' R U' R2' U2' R U R' U R"],["t_front_row","r' U r U2' R2' F R F' R"],["t_back_row","r' D' r U r' D r U' r U r'"],["t_columns","U2 r2' D' r U r' D r2 U' r' U' r"],["s_left_bar","R U R' U R U2 R'"],["s_x_checkerboard","L' U2 L U2' L F' L' F"],["s_forward_slash","F R' F' R U2 R U2' R'"],["s_columns","R U R' U' R' F R F' R U R' U R U2' R'"],["s_right_bar","U2' R U R' U R' F R F' R U2' R'"],["s_back_slash","R U' L' U R' U' L"],["as_right_bar","U' R U2' R' U' R U' R'"],["as_columns","R2 D R' U R D' R' U R' U' R U' R'"],["as_back_slash","F' r U r' U2' r' F2 r"],["as_x_checkerboard","R U2' R' U2' R' F R F'"],["as_forward_slash","L' U R U' L U R'"],["as_left_bar","U2' R U2' R' F R' F' R U' R U' R'"],["l_mirror","F R U' R' U' R U R' F'"],["l_inverse","F R' F' R U R U' R'"],["l_pure","U2 R U R' U R U' R' U R U' R' U R U2' R'"],["l_front_commutator","R U2 R D R' U2 R D' R2'"],["l_diag","U2 R' U' R U R' F' R U R' U' R' F R2"],["l_back_commutator","U' R' U2 R' D' R U2 R' D R2"],["solved",""]],ut=[["o_1",[["h_rows",""],["pi_columns",""],["h_columns",""]]],["o_2",[["pi_x_checkerboard","U"]]],["s_1",[["as_right_bar","U"],["t_right_bar","U"],["l_diag","U"],["as_forward_slash","U"]]],["s_2",[["u_forward_slash","U"],["as_left_bar","U"],["l_pure",""],["as_x_checkerboard","U"]]],["s_3",[["u_back_slash","U"],["t_left_bar",""],["as_back_slash","U"],["as_columns",""]]],["as_1",[["t_left_bar","U"],["s_left_bar",""],["l_diag",""],["s_back_slash","U"]]],["as_2",[["u_back_slash",""],["s_right_bar","U"],["l_pure","U"],["s_x_checkerboard","U"]]],["as_3",[["s_forward_slash","U"],["t_right_bar",""],["u_forward_slash",""],["s_columns",""]]],["t_1",[["u_back_row","U"],["t_back_row",""],["h_row",""],["pi_right_bar","U"]]],["t_2",[["u_front_row","U"],["as_back_slash",""],["s_forward_slash",""],["pi_left_bar","U"]]],["t_3",[["t_front_row","U"],["as_forward_slash",""],["s_back_slash",""],["h_row","U"]]],["u_1",[["u_rows",""],["t_rows",""],["pi_left_bar",""],["h_column","U"]]],["u_2",[["t_columns",""],["s_columns","U"],["as_columns","U"],["pi_right_bar",""]]],["u_3",[["u_x_checkerboard","U"],["s_x_checkerboard",""],["as_x_checkerboard",""],["h_column",""]]],["l_1",[["l_inverse",""],["as_right_bar",""],["s_right_bar",""],["pi_forward_slash","U"]]],["l_2",[["l_mirror",""],["as_left_bar",""],["s_left_bar","U"],["pi_back_slash",""]]],["l_3",[["l_back_commutator",""],["l_front_commutator",""],["pi_forward_slash",""],["pi_back_slash","U"]]],["pi_1",[["o_adjacent_swap",""],["u_front_row",""],["t_columns","U"],["pi_x_checkerboard",""]]],["pi_2",[["u_back_row",""],["l_front_commutator","U"],["l_back_commutator","U"],["t_rows","U"]]],["pi_3",[["o_adjacent_swap","U"],["l_mirror","U"],["l_inverse","U"],["pi_columns","U"]]],["h_1",[["solved","U"],["t_front_row",""],["h_rows","U"]]],["h_2",[["o_diagonal_swap","U"],["u_x_checkerboard",""],["h_columns","U"]]],["h_3",[["u_rows","U"],["t_back_row","U"]]]],mt=Object.fromEntries(dt),ft=ut.map((e=>{let[t,s]=e;return s.map((e=>{let[s,r]=e;return[`nmcll-${t}-${s}`,mt[s]+" "+r]}))})).flat().map((e=>{let[t,s]=e;return ht(t,s,"nmcll")})),bt=[["o_1","U",""],["o_2","",""],["s_1","","U"],["s_2","U","U"],["s_3","","U"],["as_1","","U2"],["as_2","U","U'"],["as_3","",""],["t_1","","U2"],["t_2","","U2"],["t_3","","U2"],["u_1","U","U2"],["u_2","U","U2"],["u_3","","U2"],["l_1","U",""],["l_2","U","U2"],["h_3","",""],["pi_1","","U2"],["pi_2","U","U'"],["pi_3","","U2"],["l_3","U",""],["h_1","",""],["h_2","",""]],gt=dt.map((e=>{let[t,s]=e;return ht(t,s,"cmll")}));let jt=[ht("RUR'_1","R U R'","trigger"),ht("RUR'_2","r U r'","trigger"),ht("RU'R'_1","R U' R'","trigger"),ht("RU'R'_2","r U' r'","trigger"),ht("R'U'R_1","R' U' R","trigger"),ht("R'U'R_2","r' U' r","trigger"),ht("R'UR_1","R' U R","trigger"),ht("R'UR_2","r' U r","trigger"),ht("RU2R'_1","R U2 R'","trigger"),ht("RU2R'_2","r U2 r'","trigger"),ht("R'U2R_1","R' U2 R","trigger"),ht("R'U2R_2","r' U2 r","trigger")],vt=[ht("U","U","u_auf"),ht("U'","U'","u_auf"),ht("U2","U2","u_auf"),ht("None","","u_auf")],_t=["WG","WB","WO","WR","YG","YB","YO","YR","BW","BY","BO","BR","GW","GY","GO","GR","OW","OY","OB","OG","RW","RY","RB","RG"].map((e=>ht(e,"","orientation"))),xt=e=>{switch(e){case"cmll":case"cmll_case":return gt;case"nmcll":return ft;case"trigger":return jt;case"orientation":return _t;case"u_auf":return vt;default:return[]}},Ot=e=>{let t=xt(e.kind),s=new Set(e.getActiveNames()),r=t.filter((e=>{let t=e.id.split("_",1)[0];return s.has(t)}));return()=>0===r.length?pt:X(r)},yt=(e,t)=>{let s=new Set(t);console.log("generating from active caes",s);let r=xt(e).filter((e=>s.has(e.id)));return()=>0===r.length?pt:X(r)};function Rt(e){const t=a.a.useRef(null);return Object(r.useEffect)((()=>{const s=t.current;let r=window.devicePixelRatio||1;s.height=e.height*r,s.width=e.width*r;!function(e,t){let{width:s,height:r,colorScheme:a}=t;e.clearRect(0,0,s,r);let n=Math.min(s,r),o=.5*n,c=o/3;const l=.1*c,i=.1*c;e.lineWidth=l,e.resetTransform();let h=window.devicePixelRatio||1;e.scale(h,h),e.translate((s-o)/2,(n-o)/2);let p=.33*c,d=.1*c,u=.038*c;function m(t,s,r){e.save(),e.translate(o/2,o/2),e.rotate(s),e.translate(-o/2,-o/2),e.beginPath();const n=t*c+(0===t?d:1===t?u:-u),l=(t+1)*c+(0===t?u:1===t?-u:-d),i=-p,h=t*c,m=h+c;e.moveTo(n,i),e.lineTo(l,i),e.lineTo(m,0),e.lineTo(h,0),e.lineTo(n,i),e.closePath(),e.fillStyle=a[r],e.fill(),e.stroke(),e.restore()}function f(t,s,r){e.fillStyle=a[r],e.fillRect(t,s,c,c),e.strokeStyle="black",e.strokeRect(t,s,c,c)}for(let b=0;b<3;b++)for(let e=0;e<3;e++){const s=t.cube[0][3*b+e];f(e*c,b*c,s)}e.lineWidth=i;for(let b=0;b<3;b++)m(2-b,Math.PI,t.cube[2][b]),m(2-b,0,t.cube[3][b]),m(2-b,1.5*Math.PI,t.cube[4][b]),m(2-b,.5*Math.PI,t.cube[5][b])}(s.getContext("2d"),e)})),Object(ae.jsx)("canvas",{ref:t,style:{width:e.width,height:e.height,zIndex:1}})}function wt(e){const t=a.a.useRef(null);return Object(r.useEffect)((()=>{const s=t.current;let r=window.devicePixelRatio||1;s.height=e.height*r,s.width=e.width*r;!function(e,t){let{width:s,height:r,colorScheme:a}=t;const n=(t.facesToReveal||[]).includes(b.L);e.clearRect(0,0,s,r);let o=Math.min(s,r),c=.75*o,l=c/5,i=4*l;const h=.03*l,p=.03*l,d=.07*l,u=.07*l;e.lineWidth=h,e.resetTransform();let m=window.devicePixelRatio||1;function f(t,s,r){e.fillStyle=a[r],e.fillRect(t,s,l,l),e.strokeStyle="black",e.strokeRect(t,s,l,l)}e.scale(m,m),e.translate((s-i)/2,(o-c)/2);const g=n?l:0;for(let b=0;b<3;b++)for(let e=0;e<3;e++){const s=t.cube[0][3*b+e];f(e*l+g,b*l,s)}e.lineWidth=p;for(let b=0;b<2;b++)for(let e=0;e<3;e++){const s=t.cube[2][3*b+e];f(e*l+g,(b+3)*l+d,s)}if(n)for(let b=0;b<1;b++)for(let e=0;e<3;e++){const s=t.cube[4][3*b+e];f(0-u,e*l,s)}else for(let b=0;b<1;b++)for(let e=0;e<3;e++){const s=t.cube[5][3*b+e];f(3*l+u,(2-e)*l,s)}}(s.getContext("2d"),e)})),Object(ae.jsx)("canvas",{ref:t,style:{width:e.width,height:e.height,zIndex:1}})}const Ut=Object(h.a)((e=>({container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(2),backgroundColor:e.palette.background.default},paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:350},canvasPaper:{padding:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column"},title:{color:e.palette.text.disabled,fontWeight:500,fontSize:18,borderBottom:"2px solid"},prompt:{color:e.palette.text.secondary},button:{width:"100%"}}))),kt=Object.fromEntries(dt),St=ut.map(((e,t)=>{let[s,r]=e,a=bt[t],n=kt[r[0][0]];return n=a[2]+" "+n+" "+a[1],[s,n]}));function Ft(e){const{state:t,dispatch:s}=e;return Object(ae.jsx)(it,{state:t,dispatch:s,settings:{selector:"nmcllSelector",groups:["o","s","as","t","u","l","pi","h"],algs:St,visualizeMask:"cmll",cubeOptions:{colorScheme:{0:"#ffffff",1:"#ee0000",2:"#404040",3:"#404040",4:"#ffa100",5:"#404040"}}},title:"Select cases by NMCLL recog (this is a separate selection from above, only activated when you're in L/R or F/B mode)",label:"Select by NMCLL"})}function Lt(e){let{state:t,dispatch:s}=e,r=t.cube.state,n=Ut();const o=Object(we.a)(n.canvasPaper,n.fixedHeight);let h=_e.from_cubie(r,function(e){switch(e){default:return Re.solved_mask;case"Hide":return Re.empty_mask;case"Hide LSE":return Re.lse_mask}}(t.config.cmllCubeMaskSelector.getActiveName()||"Show")),p=t.config.cmll2D3DSelector.getActiveName()||"3D";const d="3D"===p,u="flat3D"===p;let m=t.config.cmllKataSelector.getActiveName(),g="L"===t.config.cmllflat3DFaceSelector.getActiveName(),j="Show"===t.config.cmll3DFaceSelector.getActiveName(),v=t.config.hyperOriSelector.getActiveName()||"off";"off"!==v?h="F/B"===v?_e.as_actrm(h,"fb",!0):_e.as_actrm(h,"lr",!0):"off"!==m&&(h=_e.as_kata(h));Object(te.a)();const _=Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(it,{state:t,dispatch:s,settings:{selector:"cmllCaseSelector",algs:dt,groups:["o","s","as","t","u","l","pi","h"],visualizeMask:"cmll",cubeOptions:{colorScheme:{0:"#FEFE00",1:"#ffa100",2:"#00b800",3:"#404040",4:"#ee0000",5:"#0000f2"}}},label:"Select CMLL Cases"}),Object(ae.jsx)(We,{state:t,dispatch:s,select:"cmllAufSelector",options:{label:"CMLL Auf",noDialog:!0}}),Object(ae.jsx)(l.a,{width:16,display:"inline-block"}),Object(ae.jsx)(We,{state:t,dispatch:s,select:"triggerSelector",options:{label:"SB Last Pair Trigger (Uncheck all for pure CMLL)",noDialog:!0}}),Object(ae.jsx)(l.a,{height:10}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"cmllCubeMaskSelector",label:"Virtual Cube"}),Object(ae.jsx)("br",{}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"cmll2D3DSelector",label:"Visualize as"}),Object(ae.jsx)(l.a,{width:16,display:"inline-block"}),d&&Object(ae.jsx)(ze,{state:t,dispatch:s,select:"cmll3DFaceSelector",label:"Show L face"}),u&&Object(ae.jsx)(ze,{state:t,dispatch:s,select:"cmllflat3DFaceSelector",label:"L/R faces to reveal"}),Object(ae.jsx)("br",{}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"cmllKataSelector",label:"Display recog stickers only"}),Object(ae.jsx)(He,{state:t,dispatch:s}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"hyperOriSelector",label:"NMCLL Recog Mode"}),"off"!==v&&Object(ae.jsx)(Ft,{state:t,dispatch:s})]});a.a.useEffect((()=>{O(!1)}),[t]);const[x,O]=a.a.useState(!1);a.a.useEffect((()=>{function e(e){t.keyMapping.handle(e,s),"/"===e.key&&O(!0)}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}));let y="",R="";if(4===t.case.desc.length&&(R=t.case.desc[3].algs[0]),x&&t.case.desc.length>=3){let e=new ve(t.case.desc[1].algs[0]+t.case.desc[2].algs[0]).collapse();e.moves.length>0&&("U"===e.moves[0].name[0]&&(y+="("+e.moves[0].name+") ",e.moves=e.moves.slice(1)),y+=e.toString())}const w=t.colorScheme.getColorsForOri(t.cube.ori);return Object(ae.jsxs)(l.a,{className:n.container,children:[Object(ae.jsx)(f.a,{container:!0,children:Object(ae.jsx)(f.a,{item:!0,xs:12,children:d?Object(ae.jsx)(be.a,{className:o,children:Object(ae.jsx)(l.a,{margin:"auto",children:Object(ae.jsx)(de,{width:400,height:350,cube:h,colorScheme:w,theme:t.config.theme.getActiveName(),facesToReveal:j?[b.L]:[]})})}):u?Object(ae.jsx)(be.a,{className:o,children:Object(ae.jsx)(l.a,{margin:"auto",children:Object(ae.jsx)(wt,{width:400,height:350,cube:h,colorScheme:w,theme:t.config.theme.getActiveName(),facesToReveal:[g?b.L:b.R]})})}):Object(ae.jsx)(be.a,{className:o,children:Object(ae.jsx)(l.a,{margin:"auto",children:Object(ae.jsx)(Rt,{width:400,height:350,cube:h,colorScheme:w,theme:t.config.theme.getActiveName()})})})})}),Object(ae.jsx)(l.a,{height:5}),Object(ae.jsxs)(be.a,{className:n.paper,elevation:2,children:[Object(ae.jsxs)(f.a,{container:!0,spacing:2,children:[Object(ae.jsx)(f.a,{item:!0,xs:3,children:Object(ae.jsx)(l.a,{display:"flex",children:Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(l.a,{className:n.title,children:"Scramble"})," "]})})}),Object(ae.jsx)(f.a,{item:!0,xs:9,children:Object(ae.jsx)(l.a,{paddingBottom:1,lineHeight:1,children:Object(ae.jsx)(c.a,{style:{whiteSpace:"pre-line",fontSize:18,fontWeight:500},children:R})})}),Object(ae.jsx)(f.a,{item:!0,xs:3,children:Object(ae.jsx)(l.a,{display:"flex",children:Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(l.a,{className:n.title,children:"Case"})," "]})})}),x?Object(ae.jsxs)(f.a,{item:!0,xs:9,children:[Object(ae.jsx)(l.a,{paddingBottom:1,lineHeight:1,children:Object(ae.jsx)(c.a,{style:{whiteSpace:"pre-line",fontSize:18,fontWeight:500},children:y})}),Object(ae.jsx)(l.a,{borderColor:"primary.main",style:{transition:"all .3s ease"},children:Object(ae.jsx)(Ve,{name:"",size:100,alg:y,mask:"cmll",color:w,cubeOptions:{}})})]}):Object(ae.jsx)(f.a,{item:!0,xs:3,children:Object(ae.jsxs)(i.a,{onFocus:e=>e.target.blur(),className:n.button,size:"medium",variant:"outlined",color:"primary",onClick:()=>{O(!0)},children:[" ","Show"]})})]}),Object(ae.jsx)(l.a,{height:30}),Object(ae.jsx)(f.a,{container:!0,spacing:0,children:Object(ae.jsx)(f.a,{item:!0,xs:4,sm:4,md:3,children:Object(ae.jsx)(i.a,{onFocus:e=>e.target.blur(),className:n.button,size:"medium",variant:"contained",color:"primary",onClick:()=>{s({type:"key",content:"#space"})},children:"Next"})})})]}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:20}),_,Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:15}),Object(ae.jsx)(l.a,{children:Object(ae.jsx)(ue.a,{component:"fieldset",className:n.prompt,children:Object(ae.jsx)(me.a,{component:"legend",children:"Usage: Press space for next case. Enter to redo. / to reveal."})})})]})}var Mt=s(118),Bt=s.n(Mt),Dt=s(119),Et=s.n(Dt),Ct=s(268),At=(s(114),s(68)),Nt=s.n(At);const Pt=Object(h.a)((e=>({setupEdit:{whiteSpace:"pre-line",fontSize:"1.2rem",fontWeight:500,[e.breakpoints.down("sm")]:{fontSize:"1.0rem",fontWeight:500}},button:{marginRight:e.spacing(1)}})));function Tt(e){let t=Pt(),[s,r]=a.a.useState(!1),[n,o]=a.a.useState(e.scrambles.join("\n")),c=a.a.useRef(null);const h=e=>{e.stopPropagation()},m=()=>{r(!s)};a.a.useEffect((()=>{o(e.scrambles.join("\n"))}),[e.scrambles]);const f=Object(ee.a)(at.breakpoints.up("sm"));return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(l.a,{children:f?Object(ae.jsx)(i.a,{variant:s?"contained":"outlined",color:"primary",size:"small",onClick:m,className:t.button,startIcon:Object(ae.jsx)(Nt.a,{}),children:"Input"}):Object(ae.jsx)(i.a,{variant:s?"contained":"outlined",color:"primary",size:"small",onClick:m,className:t.button,children:Object(ae.jsx)(l.a,{marginTop:.5,children:Object(ae.jsx)(Nt.a,{fontSize:"small"})})})}),Object(ae.jsxs)(p.a,{open:s,onClose:()=>{r(!1)},onKeyPress:h,onKeyDown:h,onKeyUp:h,children:[Object(ae.jsx)(Le.a,{children:" Input your own solution / scrambles (one per line) "}),Object(ae.jsx)(d.a,{children:Object(ae.jsx)(Ye.a,{inputRef:c,multiline:!0,size:"medium",fullWidth:!0,maxRows:10,rows:3,InputProps:{className:t.setupEdit},autoFocus:!0,value:n,onChange:e=>{o(e.target.value),e.stopPropagation()},variant:"outlined"})}),Object(ae.jsx)(u.a,{children:Object(ae.jsxs)(l.a,{padding:1,children:[Object(ae.jsx)(i.a,{onClick:()=>{r(!1);const t=n.split("\n").map((e=>new ve(e).inv().toString()));e.dispatch({type:"scrambleInput",content:t})},color:"primary",variant:"outlined",fullWidth:!0,children:"Use as solution"}),Object(ae.jsx)(i.a,{onClick:()=>{r(!1),e.dispatch({type:"scrambleInput",content:n.split("\n").filter((e=>e.trim()))})},color:"primary",variant:"outlined",fullWidth:!0,children:"Use as scramble"})]})})]})]})}var zt=s(238),It=s(35);const Wt=Object(Me.a)((e=>{let{className:t,...s}=e;return Object(ae.jsx)(zt.a,{...s,classes:{popper:t}})}))({[`& .${It.a.tooltip}`]:{maxWidth:400,fontSize:"1rem"}}),Yt=Object(h.a)((e=>({container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(2),backgroundColor:e.palette.background.default,transition:"all .5s ease-in-out"},button:{width:"100%",height:50},paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column",marginBottom:3,borderRadius:0},canvasPaper:{padding:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column"},infoColumn:{color:e.palette.background.paper},scrambleColumn:{paddingLeft:e.spacing(3)},textColumn:{[e.breakpoints.up("sm")]:{minHeight:138}},setup:{whiteSpace:"pre-line",fontSize:"1.4rem",fontWeight:500,[e.breakpoints.down("sm")]:{fontSize:"1.2rem",fontWeight:500}},condGap:{},fgap:{flexShrink:100,flexBasis:"2.5rem",minWidth:"1.5em",[e.breakpoints.down("sm")]:{flexBasis:"1.0rem",minWidth:"0.4rem"}},fixedHeight:{height:250},title:{color:e.palette.text.disabled,fontWeight:500,borderBottom:"3px solid"},sourceIcon:{color:e.palette.text.disabled,fontSize:15,padding:0},sourceIconWrap:{},fab:{position:"absolute",top:e.spacing(7),left:e.spacing(2)},prompt:{color:e.palette.text.secondary}})));function Gt(e){let{state:t,dispatch:s}=e;if("ss"===t.mode){let e=[{name:"Toggle Select All",enableIdx:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]},{name:"Toggle All Oriented",enableIdx:[0,2,4,6,8,10,12,14,16]}];return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(Te,{state:t,dispatch:s,select:"ssLevelSelector"}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"ssSelector",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"ssPairOnlySelector",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"solutionNumSelector",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(We,{state:t,dispatch:s,select:"ssPosSelector",options:{manipulators:e},children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}if("fbdr"===t.mode){let e="fbdrSelector",a="fbOnlySelector",n="fbPairSolvedSelector",o="fbdrScrambleSelector",c="solutionNumSelector",l=[{name:"Toggle Select All",enableIdx:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}],i="fbdrPosSelector1",h="fbdrPosSelector3";return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(Te,{state:t,dispatch:s,select:"fbdrLevelSelector"}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:a,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:e,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:n,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:o,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:c,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(We,{state:t,dispatch:s,select:i,options:{manipulators:l},children:" "}),Object(ae.jsx)(We,{state:t,dispatch:s,select:h,options:{manipulators:l},children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}if("fb"===t.mode)return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(Te,{state:t,dispatch:s,select:"fbLevelSelector"}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"fbPieceSolvedSelector",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"solutionNumSelector",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]});if("fs"===t.mode){let e="fsSelector",a="solutionNumSelector";return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(Te,{state:t,dispatch:s,select:"fsLevelSelector"}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:e,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:a,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}if("fsdr"===t.mode){let e="fsSelector",a="solutionNumSelector";return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(Te,{state:t,dispatch:s,select:"fsLevelSelector"}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:e,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:a,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}if("fbss"===t.mode){let e="fbssLpSelector",a="fbssSsSelector",n="solutionNumSelector";return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(Te,{state:t,dispatch:s,select:"fbssLevelSelector"}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:e,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:a,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:n,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}if("4c"===t.mode){let e="lseStageSelector",a="lseMCSelector",n="lseBarSelector",o="solutionNumSelector";return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(ze,{state:t,dispatch:s,select:e,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:a,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:n,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:o,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}if("eopair"===t.mode){let e="lseEOSelector",a="lseEOLRMCSelector",n="lseBarbieSelector",o="lseEOLRScrambleSelector",c="solutionNumSelector";return Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(We,{state:t,dispatch:s,select:e,options:{noDialog:!0},children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:a,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:n,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:o,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:c,children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"moveCountHint",children:" "}),Object(ae.jsx)(ze,{state:t,dispatch:s,select:"showCube",children:" "}),Object(ae.jsx)(He,{state:t,dispatch:s})]})}return Object(ae.jsx)(r.Fragment,{})}var Ht=function(e){let{state:t,dispatch:s}=e,n=t.cube.state,o=Yt(),h=_e.from_cubie(n,function(e){if("fbdr"===e.mode)return 0===e.case.desc.length||"fb"===e.case.desc[0].kind?Re.fb_mask:Re.fbdr_mask;if("fs"===e.mode){let t=e.config.fsSelector.getActiveName();return{"Front FS":Re.fs_front_mask,"Back FS":Re.fs_back_mask,Both:Re.fb_mask}[t]}if("ss"!==e.mode){if("fb"===e.mode)return 0===e.case.desc.length||"fb"===e.case.desc[0].kind||e.case.desc[0].kind.startsWith("fb@")?Re.fb_mask:"fbdr"===e.case.desc[0].kind?Re.fbdr_mask:Re.solved_mask;if("fbss"===e.mode){let t=e.config.fbssSsSelector.getActiveName();return{"Front SS":Re.ss_front_mask,"Back SS":Re.ss_back_mask,Both:Re.f2b_mask}[t]}return"4c"===e.mode||"eopair"===e.mode?Re.solved_mask:Re.sb_mask}{if(0===e.case.desc.length)return Re.sb_mask;let t=e.config.ssSelector.getActiveName(),s="D-Pair only"===e.config.ssPairOnlySelector.getActiveName();switch(t){case"Front SS":return s?Re.ssdp_front_mask:Re.ss_front_mask;case"Back SS":return s?Re.ssdp_back_mask:Re.ss_back_mask;default:return s?Re.ssdp_both_mask:Re.f2b_mask}}}(t)),p=t.case.desc.length?t.case.desc:[{algs:[""],setup:"Press next for new case",id:"",kind:""}],d="hiding"===t.name?"Reveal":"Next",u="Show"===t.config.moveCountHint.getActiveName(),m="hiding"===t.name?u?(e=>{let t=e.map((e=>e.algs.map((e=>new ve(e).remove_setup().moves.length)))).flat().reduce(((e,t)=>Math.min(e,t)),100);return`(Min = ${t} STM)`})(p):"":"revealed"===t.name?function(e){let t=e=>e.algs;return 1===e.length?t(e[0]).join("\n"):e.map((e=>`[${e.kind}]:\n`+t(e).join("\n")+"\n"))}(p):"";const g=p.length?p[0].setup:"",j=Object(te.a)();a.a.useEffect((()=>{function e(e){" "===e.key&&"Next"===d&&_(!1),t.keyMapping.handle(e,s)}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}));const[v,_]=a.a.useState(!1),x=Object(ee.a)(j.breakpoints.up("sm")),O=x?[400,350]:[320,280],y=x?"Add":"";let R="4c"===(w=t.mode)||"eopair"===w?"Usage: Press space for next case. Enter to redo.\n\nVirtual Cube: I/K (E/D) for M'/M, J/F for U/U'":null;var w;let U=t.cube.levelSuccess;const k=Object(ae.jsxs)(l.a,{style:{display:"flex",flexWrap:"wrap",padding:0},children:[Object(ae.jsx)(Tt,{display:g,dispatch:s,scrambles:t.scrambleInput}),Object(ae.jsx)(l.a,{children:x?Object(ae.jsx)(i.a,{variant:v?"contained":"outlined",color:"primary",size:"small",name:"fav",onClick:()=>{if(0===t.case.desc.length)return;const e={mode:t.mode,solver:t.case.desc.map((e=>e.kind)),setup:g||""};v?(_(!1),s({type:"favList",content:[e],action:"remove"})):(_(!0),s({type:"favList",content:[e],action:"add"}))},startIcon:Object(ae.jsx)(Bt.a,{}),children:v?"\u2713":y}):null})]});return Object(ae.jsxs)(l.a,{className:o.container,children:[Object(ae.jsx)(be.a,{className:o.paper,elevation:1,children:Object(ae.jsxs)(l.a,{style:{display:"flex"},children:[Object(ae.jsx)(l.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(ae.jsx)(l.a,{className:o.title,style:{},children:"Scramble"})}),Object(ae.jsx)(l.a,{style:{},className:o.fgap}),Object(ae.jsx)(l.a,{style:{display:"flex",alignItems:"center",flexGrow:1},children:Object(ae.jsx)(c.a,{className:o.setup,children:g})}),Object(ae.jsx)(l.a,{style:{},className:o.fgap}),x&&k]})}),Object(ae.jsx)(be.a,{className:o.paper,children:Object(ae.jsxs)(f.a,{container:!0,children:[Object(ae.jsx)(f.a,{item:!0,md:6,sm:12,xs:12,className:o.condGap,children:Object(ae.jsxs)(l.a,{style:{display:"flex"},children:[Object(ae.jsx)(l.a,{display:"flex",children:Object(ae.jsxs)(l.a,{style:{display:"flex",alignSelf:"flex-start"},children:[" ",Object(ae.jsx)(l.a,{className:o.title,style:{},children:"Solutions"})," "]})}),Object(ae.jsx)(l.a,{style:{},className:o.fgap}),Object(ae.jsx)("div",{children:Object(ae.jsx)(l.a,{paddingBottom:2,lineHeight:1,children:Object(ae.jsx)(c.a,{style:{whiteSpace:"pre-line",fontSize:"1.2rem"},children:m})})})]})}),Object(ae.jsx)(f.a,{item:!0,md:6,sm:12,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(ae.jsx)(l.a,{style:{backgroundColor:"rgba(0, 0, 0, 0)"},children:"Show"===e.state.config.showCube.getActiveName()?Object(ae.jsx)(de,{width:O[0],height:O[1],cube:h,colorScheme:t.colorScheme.getColorsForOri(t.cube.ori),hintDistance:"4c"===t.mode||"eopair"===t.mode?3:7,theme:t.config.theme.getActiveName(),facesToReveal:[b.L,b.B,b.D]}):null})})]})}),Object(ae.jsx)(be.a,{className:o.paper,style:{paddingTop:20,paddingBottom:22},children:Object(ae.jsxs)(f.a,{container:!0,spacing:1,children:[Object(ae.jsx)(f.a,{item:!0,xs:5,sm:4,md:3,marginLeft:1,children:Object(ae.jsx)(i.a,{onFocus:e=>e.target.blur(),className:o.button,size:"large",variant:"contained",color:"primary",onClick:()=>{s({type:"key",content:"#space"}),"Next"===d&&_(!1)},sx:{borderRadius:0},children:d})}),U?null:Object(ae.jsx)(f.a,{item:!0,xs:1,marginLeft:1,children:Object(ae.jsx)(Wt,{title:"We weren't able to generate your level within time limit. You can try again -- some levels are reachable within a few tries.",children:Object(ae.jsx)(Ct.a,{children:Object(ae.jsx)(Et.a,{sx:{fontSize:30}})})})})]})}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(Gt,{state:t,dispatch:s}),R?Object(ae.jsxs)(r.Fragment,{children:[Object(ae.jsx)(l.a,{height:20}),Object(ae.jsx)(fe.a,{}),Object(ae.jsx)(l.a,{height:15}),Object(ae.jsx)(l.a,{children:Object(ae.jsx)(ue.a,{component:"fieldset",className:o.prompt,children:Object(ae.jsx)(me.a,{component:"legend",children:Object(ae.jsx)("pre",{style:{fontFamily:"inherit"},children:R})})})})]}):null]})},$t=s(269),Vt=s(270);const Kt=Object(h.a)((e=>({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(2),backgroundColor:e.palette.background.default},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},gridList:{width:600,height:450}})));function Xt(e){let{alg:t,stage:s,sch:r}=e;const a=`http://localhost:8000/visualcube.php?fmt=svg&r=y30x-24&size=150&co=40&fo=100&cc=ccc&stage=${s}&sch=${r}&case=${t}`;return Object(ae.jsx)("img",{src:a,alt:""})}function qt(e){Kt();let{algs:t}=e;return Object(ae.jsx)($t.a,{children:t.map((e=>Object(ae.jsx)(Vt.a,{cols:1,children:Object(ae.jsx)(Xt,{alg:e.algs[0],stage:"f2b",sch:"yrbwog"})},e.id)))})}function Zt(e){let t=Kt(),s=["RUR","RU'R'"].map((e=>({id:e,algs:[e],kind:"sb"})));return Object(ae.jsxs)("div",{className:t.root,children:[Object(ae.jsx)("div",{children:Object(ae.jsx)(qt,{algs:s})}),Object(ae.jsx)("div",{children:Object(ae.jsx)(qt,{algs:s})})]})}var Jt,Qt=s(271),es=s(272),ts=s(273),ss=s(274),rs=s(275),as=s(276),ns=s(121),os=s.n(ns),cs=s(122),ls=s.n(cs),is=s(120),hs=s.n(is);void 0===globalThis.$RefreshReg$&&(globalThis.$RefreshReg$=()=>{},globalThis.$RefreshSig$=()=>()=>{}),function(e){e[e.S=0]="S",e[e.O=1]="O",e[e.I=2]="I",e[e.X=3]="X"}(Jt||(Jt={}));const{S:ps,I:ds}=Jt;let us=["U","U2","U'","F","F2","F'","R","R2","R'","r","r2","r'","D","D2","D'","M","M'","M2","B","B'","B2"],ms=["U","U'","U2","R","R'","R2","r","r'","r2","M'","M","M2"],fs=["U","U'","U2","R","R'","R2","M'","M","M2","r","r'","r2"],bs=["U","U'","U2","R","R'","R2","r","r'","r2","M'","M","M2","F'","F","F2"],gs=["U","U'","U2","R","R'","R2","r","r'","r2","M'","M","M2","B'","B","B2"],js=["U","U2","U'","F","F2","F'","R","R2","R'","r","r2","r'","u","u2","u'","M","M'","M2","B","B'","B2"],vs=["U","U2","U'","F","F2","F'","R","R2","R'","r","r2","r'","M","M'","M2","D","D'","D2","f","f'","f2","S'","S","S2"],_s=["x","x'","x2","y","y'","y2","z","z'","z2"];let xs=e=>({size:Math.pow(24,4)*Math.pow(24,2),encode:function(e){let t=0,s=0;for(let l=0;l<8;l++)4===e.cp[l]?t=3*l+e.co[l]:5===e.cp[l]&&(s=3*l+e.co[l]);const r=24*t+s;let a=0,n=0,o=0,c=0;for(let l=0;l<12;l++)switch(e.ep[l]){case 5:a=2*l+e.eo[l];break;case 8:n=2*l+e.eo[l];break;case 9:o=2*l+e.eo[l];break;case 7:c=2*l+e.eo[l]}return r+576*(13824*a+576*n+24*o+c)},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:e,moveset:us,name:"fbdr"}),Os=xs(5),ys=(e=>{const t=Math.pow(24,2),s=Math.pow(24,2);return{size:t*s*6,encode:function(e){let t=0,r=0;for(let s=0;s<8;s++)switch(e.cp[s]){case 4:t=3*s+e.co[s];break;case 5:r=3*s+e.co[s]}const a=24*t+r;let n=0,o=0;for(let s=0;s<12;s++)switch(e.ep[s]){case 5:n=2*s+e.eo[s];break;case 8:o=2*s+e.eo[s]}const c=24*n+o;let l=0;for(let s=0;s<6;s++)e.tp[s]===b.L&&(l=s);return c*(6*s)+6*a+l},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:e,moveset:vs,name:"fb"}})(5),Rs=(e=>{const t=Math.pow(24,2),s=Math.pow(24,2);return{size:t*s*6,encode:function(e){let t=0,r=0;for(let s=0;s<8;s++)switch(e.cp[s]){case 4:t=3*s+e.co[s];break;case 5:r=3*s+e.co[s]}const a=24*t+r;let n=0,o=0;for(let s=0;s<12;s++)switch(e.ep[s]){case 8:n=2*s+e.eo[s];break;case 9:o=2*s+e.eo[s]}const c=24*n+o;let l=0;for(let s=0;s<6;s++)e.tp[s]===b.L&&(l=s);return c*(6*s)+6*a+l},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:e,moveset:js,name:"fb"}})(5),ws=(Us=5,{size:Math.pow(24,3)*Math.pow(24,2),encode:function(e){let t=0,s=0;for(let c=0;c<8;c++)switch(e.cp[c]){case 4:t=3*c+e.co[c];break;case 5:s=3*c+e.co[c]}const r=24*t+s;let a=0,n=0,o=0;for(let c=0;c<12;c++)switch(e.ep[c]){case 5:a=2*c+e.eo[c];break;case 8:n=2*c+e.eo[c];break;case 9:o=2*c+e.eo[c]}return 576*(576*a+24*n+o)+r},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:Us,moveset:us,name:"fb"});var Us;let ks={size:Math.pow(24,3)*Math.pow(24,2),encode:function(e){let t=0,s=0;for(let c=0;c<8;c++)switch(e.cp[c]){case 6:t=3*c+e.co[c];break;case 7:s=3*c+e.co[c]}const r=24*t+s;let a=0,n=0,o=0;for(let c=0;c<12;c++)switch(e.ep[c]){case 7:a=2*c+e.eo[c];break;case 10:n=2*c+e.eo[c];break;case 11:o=2*c+e.eo[c]}return 576*(576*a+24*n+o)+r},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:6,moveset:ms,name:"sb_rRUM"},Ss=(e,t)=>({size:Math.pow(24,3)*Math.pow(24,2),encode:function(e){let t=0,s=0;for(let c=0;c<8;c++)switch(e.cp[c]){case 6:t=3*c+e.co[c];break;case 7:s=3*c+e.co[c]}const r=24*t+s;let a=0,n=0,o=0;for(let c=0;c<12;c++)switch(e.ep[c]){case 7:a=2*c+e.eo[c];break;case 10:n=2*c+e.eo[c];break;case 11:o=2*c+e.eo[c]}return 576*(576*a+24*n+o)+r},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:t,moveset:e?bs:gs,name:"lpsb-sb"+(e?"+front-lp":"+back-lp")}),Fs=(e,t)=>({size:Math.pow(24,3)*Math.pow(24,2),encode:e?function(e){let t=0,s=0;for(let c=0;c<8;c++)switch(e.cp[c]){case 4:t=3*c+e.co[c];break;case 7:s=3*c+e.co[c]}const r=24*t+s;let a=0,n=0,o=0;for(let c=0;c<12;c++)switch(e.ep[c]){case 7:a=2*c+e.eo[c];break;case 8:n=2*c+e.eo[c];break;case 11:o=2*c+e.eo[c]}return 576*(576*a+24*n+o)+r}:function(e){let t=0,s=0;for(let c=0;c<8;c++)switch(e.cp[c]){case 5:t=3*c+e.co[c];break;case 6:s=3*c+e.co[c]}const r=24*t+s;let a=0,n=0,o=0;for(let c=0;c<12;c++)switch(e.ep[c]){case 7:a=2*c+e.eo[c];break;case 9:n=2*c+e.eo[c];break;case 10:o=2*c+e.eo[c]}return 576*(576*a+24*n+o)+r},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:t,moveset:e?bs:gs,name:"lpsb-2sq"+(e?"+front-lp":"+back-lp")}),Ls=(e,t)=>{t=t||5;const s=Math.pow(24,3),r=Math.pow(24,3),a=s*r;const n=[[]].map((e=>(new ge).apply(e))),o=us;return[xs(t),{size:a,encode:e?function(e){let t=0,s=0,a=0;for(let r=0;r<8;r++)switch(e.cp[r]){case 4:t=3*r+e.co[r];break;case 5:s=3*r+e.co[r];break;case 7:a=3*r+e.co[r]}const n=576*t+24*s+a;let o=0,c=0,l=0;for(let r=0;r<12;r++)switch(e.ep[r]){case 5:o=2*r+e.eo[r];break;case 7:c=2*r+e.eo[r];break;case 11:l=2*r+e.eo[r]}return n+r*(576*o+24*c+l)}:function(e){let t=0,s=0,a=0;for(let r=0;r<8;r++)switch(e.cp[r]){case 4:t=3*r+e.co[r];break;case 5:s=3*r+e.co[r];break;case 6:a=3*r+e.co[r]}const n=576*t+24*s+a;let o=0,c=0,l=0;for(let r=0;r<12;r++)switch(e.ep[r]){case 5:o=2*r+e.eo[r];break;case 7:c=2*r+e.eo[r];break;case 10:l=2*r+e.eo[r]}return n+r*(576*o+24*c+l)},solved_states:n,max_depth:t,moveset:o,name:"liness-"+(e?"front":"back")}]},Ms=function(){const e=4*Math.pow(12,6)*4/2,t=[0,1,2,3,4,-1,5,-1,-1,-1,-1,-1];return{size:e,encode:function(e){let s=[0,0,0,0,0,0];for(let a=0;a<12;a++){let r=t[e.ep[a]];r>0&&(s[r]=2*t[a]+e.eo[a])}let r=0;for(let t=0;t<6;t++)r=12*r+s[t];return 4*r*4+4*e.tp[0]+e.cp[0]},solved_states:[je.all.id].map((e=>(new ge).apply(e))),max_depth:7,moveset:["U","U'","U2","M'","M","M2"],name:"lse"}}();let Bs=function(){const e=36*Math.pow(2,6)*4,t=[0,0,0,0,1,-1,2,-1,-1,-1,-1,-1],s=[0,1,2,3,4,-1,5,-1,-1,-1,-1,-1];return{size:e,encode:function(e){let r=0,a=0;for(let n=0;n<12;n++){let o=t[e.ep[n]];o>=0&&(r=2*r+e.eo[n]),o>0&&(a+=Math.pow(6,o-1)*s[n])}return 4*(36*r+a)+e.tp[0]},solved_states:[new ge],max_depth:20,moveset:["U","U'","U2","M'","M","M2"],name:"eodm"}}(),Ds={size:36,encode:function(e){return 6*e.tp[0]+e.tp[2]},solved_states:[new ge],max_depth:3,moveset:_s,name:"center"};var Es=s(97);function Cs(e){return Object(Es.solve)(function(e){return{cp:e.cp,co:e.co,ep:e.ep,eo:e.eo}}(e))}function As(e){const t=3e6;let s,r,a,n,{moveset:o,is_solved:c,pruners:l}=e,i=0,h=0;function p(e,t,n,o){return s=o,r=n,a=t,i=0,h=0,u(e,0,[]),s}!function(e){e[e.CONTINUE=0]="CONTINUE",e[e.STOP=1]="STOP"}(n||(n={}));let d=Object.create({});function u(p,m,f){if(i++,i>t)return n.STOP;if(c(p))return function(e,t){if(t<a)return n.CONTINUE;if(s.solutions.length<s.capacity){let t=!0;for(let r of s.solutions)if(J(r.moves,e)){t=!1;break}t&&s.solutions.push(new ve([...e]))}return s.solutions.length===s.capacity?n.STOP:n.CONTINUE}(f,m);if(m>=r)return n.CONTINUE;return Math.max(...l.map((e=>e.query(p))))+m>r?(h++,n.CONTINUE):function(t,s,r){const a=r.length>0?d[r[r.length-1].name]:o;let c=null;if(e.pruneSeenEncodings)if(c=new Set,1===l.length)c.add(l[0].encode(t));else{let e=BigInt(l[0].encode(t))*BigInt(l[1].size)+BigInt(l[1].encode(t));c.add(e)}for(let e of a){let a=t.apply_one(e),o=1===l.length?l[0].encode(a):BigInt(l[0].encode(a))*BigInt(l[1].size)+BigInt(l[1].encode(a));if(null==c||!c.has(o)){var i;null===(i=c)||void 0===i||i.add(o),r.push(e);let t=u(a,s+1,r);if(r.pop(),t===n.STOP)return n.STOP}}return n.CONTINUE}(p,m,f)}return function(){function e(e){switch(e[0]){case"U":return o.filter((e=>"U"!==e.name[0]&&"u"!==e.name[0]));case"u":return o.filter((e=>"u"!==e.name[0]));case"D":return o.filter((e=>"U"!==e.name[0]&&"D"!==e.name[0]));case"R":{let t=o.filter((e=>"R"!==e.name[0]&&"r"!==e.name[0]));return"R"===e?t.filter((e=>"M'"!==e.name)):"R'"===e?t.filter((e=>"M"!==e.name)):"R2"===e?t.filter((e=>"M2"!==e.name)):t}case"L":case"r":case"M":return o.filter((e=>"R"!==e.name[0]&&"M"!==e.name[0]&&"L"!==e.name[0]&&"r"!==e.name[0]));case"F":return o.filter((e=>"F"!==e.name[0]&&"f"!==e.name[0]&&"S"!==e.name[0]));case"f":{const t=o.filter((e=>"S"!==e.name[0]&&"f"!==e.name[0]));return"f'"===e?t.filter((e=>"F"!==e.name)):"f"===e?t.filter((e=>"F'"!==e.name)):"f2"===e?t.filter((e=>"F2"!==e.name)):t}case"S":return o.filter((e=>"F"!==e.name[0]&&"B"!==e.name[0]&&"S"!==e.name[0]&&"f"!==e.name[0]));case"B":return o.filter((e=>"F"!==e.name[0]&&"B"!==e.name[0]));case"E":return o.filter((e=>"U"!==e.name[0]&&"D"!==e.name[0]&&"E"!==e.name[0]));default:return o}}for(let t of o)d[t.name]=e(t.name)}(),{solve:function(e,s,r,a){let n={solutions:[],capacity:a};for(let o=s;o<=r&&(n=p(e,s,o,n),!(n.solutions.length===n.capacity||i>=t));o++);return n.solutions},is_solved:c,getPruners:function(){return l}}}function Ns(e){let t=Xs.get(e);t.init();return As({is_solved:e=>0===t.query(e),moveset:e.moveset.map((e=>je.all[e])),pruners:[t],pruneSeenEncodings:!0})}function Ps(e){let t=e.map((e=>Xs.get(e)));t.forEach((e=>e.init()));return As({is_solved:e=>t.every((t=>0===t.query(e))),moveset:e[0].moveset.map((e=>je.all[e])),pruners:t,pruneSeenEncodings:!0})}let Ts=e=>Ns((e=>{const t=Math.pow(24,3),s=e?7:6,r=e?11:10;return{size:t,encode:function(e){let t=[0,0,0];for(let r=0;r<8;r++)e.cp[r]===s&&(t[0]=3*r+e.co[r]);for(let s=0;s<12;s++)e.ep[s]===r?t[1]=2*s+e.eo[s]:7===e.ep[s]&&(t[2]=2*s+e.eo[s]);return t[0]+24*t[1]+24*t[2]*24},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:8,moveset:ms,name:"ss"+(e?"-front":"-back")}})(e)),zs=e=>Ns((e=>{const t=Math.pow(24,2),s=e?7:6;return{size:t,encode:function(e){let t=0,r=0;for(let a=0;a<8;a++)e.cp[a]===s&&(t=3*a+e.co[a]);for(let s=0;s<12;s++)7===e.ep[s]&&(r=2*s+e.eo[s]);return t+24*r},solved_states:["","R","R2","R'"].map((e=>(new ge).apply(e))),max_depth:8,moveset:fs,name:"ssdp"+(e?"-front":"-back")}})(e)),Is=e=>Ps(Ls(e)),Ws=e=>{return Ps([Ss(t=e,5),Fs(t,5)]);var t},Ys=e=>Ns((e=>{const t=Math.pow(24,3),s=e?4:5,r=e?8:9;return{size:t,encode:function(e){let t=0,a=0,n=0;for(let r=0;r<8;r++)e.cp[r]===s&&(t=3*r+e.co[r]);for(let s=0;s<12;s++)e.ep[s]===r?a=2*s+e.eo[s]:5===e.ep[s]&&(n=2*s+e.eo[s]);return t+24*a+24*n*24},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:5,moveset:us,name:"fs"+(e?"-front":"-back")}})(e)),Gs=e=>Ns((e=>{const t=Math.pow(24,3),s=e?5:4,r=e?8:9;return{size:t,encode:function(e){let t=0,a=0,n=0;for(let r=0;r<8;r++)e.cp[r]===s&&(t=3*r+e.co[r]);for(let s=0;s<12;s++)e.ep[s]===r?a=2*s+e.eo[s]:5===e.ep[s]&&(n=2*s+e.eo[s]);return t+24*a+24*n*24},solved_states:(e?["D"]:["D'"]).map((e=>(new ge).apply(e))),max_depth:5,moveset:us,name:"fs-pseudo"+(e?"-front":"-back")}})(e)),Hs=e=>Ns((e=>{const t=Math.pow(24,3),s=e?5:4;return{size:t,encode:function(e){let t=0,r=0,a=0;for(let n=0;n<8;n++)e.cp[n]===s&&(t=3*n+e.co[n]);for(let s=0;s<12;s++)8===e.ep[s]?r=2*s+e.eo[s]:9===e.ep[s]&&(a=2*s+e.eo[s]);return t+24*r+24*a*24},solved_states:(e?["D"]:["D'"]).map((e=>(new ge).apply(e))),max_depth:5,moveset:us,name:"feline"+(e?"-front":"-back")}})(e)),$s=e=>Ns((e=>{const t=Math.pow(24,4),s=e?4:5,r=e?8:9;return{size:t,encode:function(e){let t=0,a=0,n=0,o=0;for(let r=0;r<8;r++)e.cp[r]===s&&(t=3*r+e.co[r]);for(let s=0;s<12;s++){const t=e.ep[s],c=e.eo[s];t===r?a=2*s+c:5===t?n=2*s+c:7===t&&(o=2*s+c)}return t+24*a+576*n+13824*o},solved_states:[[]].map((e=>(new ge).apply(e))),max_depth:5,moveset:us,name:"fs"+(e?"-front":"-back")}})(e)),Vs=(e,t)=>Ns(function(e,t){const s=36*Math.pow(2,6)*4*2,r=[0,1,0,2,0,-1,0,-1,-1,-1,-1,-1],a=[0,1,2,3,4,-1,5,-1,-1,-1,-1,-1],n=q(["U'","U"],["M2"],["","U","U'","U2"]).map((e=>e.join(" "))),o=q(["M'"],["U","U'"],["M2"],["","U","U'","U2"]).map((e=>e.join(" ")));let c=[];1&e&&(c=c.concat(n)),16&e&&(c=c.concat(o));let l=[];return 1&e&&(l=l.concat(["U","U'"])),16&e&&(l=l.concat(["M U","M U'"])),{size:s,encode:function(e){let t=0,s=0;for(let n=0;n<12;n++){let o=r[e.ep[n]];o>=0&&(t=2*t+e.eo[n]),o>0&&(s+=Math.pow(6,o-1)*a[n])}return 4*(36*t+s)*2+4*~~(e.tp[0]/2)+e.cp[0]},solved_states:("barbie"===t?l:"ab4c"===t?["id"]:c).map((e=>(new ge).apply(e))),max_depth:20,moveset:["U","U'","U2","M'","M","M2"],name:"eolr-"+e+"-"+t}}(e,t)),Ks=["fbdr","fb","fs-front","fs-back","ss-front","ss-back","min2phase","fsdr-front","fsdr-back","lse","eolrac","eolrmc","eolr","eolrac-b","eolrmc-b","eolr-b","sb","eodm"],Xs=function(){let e=new Map;return{get:function(t){let s=JSON.stringify(t);if(e.has(s))return e.get(s);{let r=function(e){let t,{size:s,encode:r,solved_states:a,max_depth:n,moveset:o,name:c}=e,l=o.map((e=>je.all[e])),i=!1,h=[[...a]];return{init:function(){if(i)return;i=!0,t=new Uint8Array(s).fill(255);for(let e of a)t[r(e)]=0;let o=[...a],c=o.length;for(let s=0;s<n;s++){let a=[];for(let e of o)for(let n of l){let o=e.apply(n),c=r(o);255===t[c]&&(t[c]=s+1,a.push(o))}o=a,e.rev_lookup_depth&&s+1<=e.rev_lookup_depth&&h.push([...o]),c+=o.length}e.rev_lookup_depth},query:function(e){let s=t[r(e)];return 255===s?n+1:s},equal:function(e,t){return r(e)===r(t)},encode:r,moveset:l,max_depth:n,size:s}}(t);return e.set(s,r),r}}}}(),qs=function(){let e=new Map;return{get:function(t){if(!e.has(t))switch(t){case"fbdr":e.set(t,Ns(Os));break;case"fb":e.set(t,Ns(ws));break;case"fb@dl":e.set(t,Ns(Rs));break;case"fb@bl":e.set(t,Ns(ys));break;case"fs-front":e.set(t,Ys(!0));break;case"fs-back":e.set(t,Ys(!1));break;case"fs-pseudo-front":e.set(t,Gs(!0));break;case"fs-pseudo-back":e.set(t,Gs(!1));break;case"felinep1-front":e.set(t,Hs(!0));break;case"felinep1-back":e.set(t,Hs(!1));break;case"fsdr-front":e.set(t,$s(!0));break;case"fsdr-back":e.set(t,$s(!1));break;case"ss-front":e.set(t,Ts(!0));break;case"ss-back":e.set(t,Ts(!1));break;case"ssdp-front":e.set(t,zs(!0));break;case"ssdp-back":e.set(t,zs(!1));break;case"fbss-front":e.set(t,Is(!0));break;case"fbss-back":e.set(t,Is(!1));break;case"lpsb-front":e.set(t,Ws(!0));break;case"lpsb-back":e.set(t,Ws(!1));break;case"sb":e.set(t,Ns(ks));break;case"min2phase":e.set(t,(Object(Es.initialize)(),{solve:function(e,t,s,r){console.assert(J(e.tp,(new ge).tp),"Cube center is not solved: "+e.tp);const a=e.to_cstimer_cube();console.assert(a.is_solveable(),"Cube must be solveable");let n=Cs(a);return[new ve(n).inv()]},is_solved:function(e){return!0},getPruners:function(){return[]}}));break;case"lse":e.set(t,Ns(Ms));break;case"lse-ab4c":e.set(t,Vs(1,"ab4c"));break;case"eolrac":e.set(t,Vs(1));break;case"eolrmc":e.set(t,Vs(16));break;case"eolr":e.set(t,Vs(17));break;case"eolrac-b":e.set(t,Vs(1,"barbie"));break;case"eolrmc-b":e.set(t,Vs(16,"barbie"));break;case"eolr-b":e.set(t,Vs(17,"barbie"));break;case"eodm":e.set(t,Ns(Bs));break;case"center":e.set(t,Ns(Ds))}return e.get(t)}}}();const Zs=Object(h.a)((e=>({table:{width:"100%",minWidth:200,backgroundColor:e.palette.background.paper}})));function Js(e){const{state:t,dispatch:s}=e,r=Zs(),n=t.favList.filter((e=>e.mode===t.mode)),[o,c]=a.a.useState(-1),l=()=>c(-1),h=Object(ae.jsxs)(p.a,{open:o>=0,onClose:l,children:[Object(ae.jsx)(Le.a,{id:"alert-dialog-title",children:"Delete this alg from favorites?"}),Object(ae.jsxs)(u.a,{children:[Object(ae.jsx)(i.a,{onClick:l,color:"primary",children:"No"}),Object(ae.jsx)(i.a,{onClick:()=>{o>=0&&o<n.length&&s({type:"favList",content:[n[o]],action:"remove"}),c(-1)},color:"primary",autoFocus:!0,children:"Yes"})]})]}),[m,f]=a.a.useState(!1),[b,g]=a.a.useState(""),j=()=>f(!1),v=Object(ae.jsxs)(p.a,{open:m,onClose:j,"aria-labelledby":"form-dialog-title",children:[Object(ae.jsx)(Le.a,{id:"form-dialog-title",children:"Add New Cases"}),Object(ae.jsxs)(d.a,{children:[Object(ae.jsxs)(Qt.a,{children:["Input your cases here. (one per line) ",Object(ae.jsx)("br",{}),"Format: [category], [setup algorithm]. category := fb | fbdr | ss-front | ss-back"]}),Object(ae.jsx)(Ye.a,{autoFocus:!0,multiline:!0,margin:"dense",id:"name",fullWidth:!0,onChange:e=>{g(e.target.value)},onKeyDown:e=>{e.stopPropagation()}})]}),Object(ae.jsxs)(u.a,{children:[Object(ae.jsx)(i.a,{onClick:j,color:"primary",children:"Cancel"}),Object(ae.jsx)(i.a,{onClick:()=>{let[e,r]=function(e,t){const s=[],r=new Set(Ks);for(const a of t.split("\n")){let t=a.split(",");if(2!==t.length)continue;let n=t[0].trim().split("|"),o=t[1].trim();if(n.every((e=>r.has(e)))){let t={mode:e.mode,solver:n,setup:o};s.push(t)}}return s.length>0?[s,!0]:[[],!1]}(t,b);r&&s({type:"favList",content:e,action:"add"}),j()},color:"primary",children:"Add All"})]})]});return Object(ae.jsxs)("div",{children:[h,v,Object(ae.jsx)(be.a,{children:Object(ae.jsxs)(es.a,{className:r.table,size:"small",children:[Object(ae.jsx)(ts.a,{children:Object(ae.jsxs)(ss.a,{children:[Object(ae.jsx)(rs.a,{align:"center",children:" Scramble "}),Object(ae.jsx)(rs.a,{align:"center",rowSpan:1,children:Object(ae.jsx)(Ct.a,{onClick:()=>f(!0),component:"span",edge:"end",size:"small",color:"primary",children:Object(ae.jsx)(hs.a,{})})})]})}),Object(ae.jsx)(as.a,{children:n.map(((e,t)=>Object(ae.jsxs)(ss.a,{children:[Object(ae.jsx)(rs.a,{align:"center",children:e.solver.join("|")+","+e.setup}),Object(ae.jsxs)(rs.a,{align:"center",children:[Object(ae.jsx)(Ct.a,{onFocus:e=>e.target.blur(),onClick:()=>(e=>{s({type:"favList",content:[n[e]],action:"replay"})})(t),component:"span",edge:"end",size:"small",color:"primary",children:Object(ae.jsx)(os.a,{})}),Object(ae.jsx)(Ct.a,{onFocus:e=>e.target.blur(),onClick:()=>c(t),component:"span",edge:"end",size:"small",color:"primary",children:Object(ae.jsx)(ls.a,{})})]})]},t)))})]})})]})}var Qs=s(277),er=s(246),tr=s(240),sr=s(125),rr=s.n(sr),ar=s(123),nr=s.n(ar),or=s(124),cr=s.n(or);const lr=Object(h.a)((e=>{let t="#556cd6"===e.palette.primary.main;return{page:{backgroundColor:e.palette.background.default},container:{display:"flex"},icon:{minWidth:0},root:{display:"flex"},bar:{backgroundColor:t?e.palette.primary.main:"#6e728a",color:e.palette.background.paper,display:"flex",flexWrap:"nowrap",justifyContent:"space-between"},select:{backgroundColor:t?"#657ce9":"#9095b2",color:e.palette.background.paper,paddingLeft:25,marginRight:5,marginLeft:15,height:60,fontWeight:400,fontSize:"1.0rem",paddingTop:6,paddingBottom:7,[e.breakpoints.down("sm")]:{paddingLeft:15,marginRight:-5,marginLeft:10,fontSize:"0.9rem"},[e.breakpoints.down(400)]:{maxWidth:160}}}}));var ir,hr=function(e){let t=lr(),{value:s,onChange:r,toggleFav:a,toggleBright:n,handleInfoOpen:o}=e,i=Ar[s][1]||"";const h=Object(ee.a)(at.breakpoints.down("sm"));return Object(ae.jsx)("div",{children:Object(ae.jsx)(l.a,{boxShadow:4,children:Object(ae.jsxs)(Qs.a,{className:t.bar,children:[Object(ae.jsx)(c.a,{style:{wordWrap:"break-word",fontSize:"0.9rem",fontFamily:"Public Sans"},children:h?"Roux \ud83d\udc31":"Roux Trainer"}),Object(ae.jsx)(l.a,{paddingX:h?0:.5}),Object(ae.jsx)(l.a,{children:Object(ae.jsx)(tr.a,{fullWidth:!0,value:i,className:t.select,onChange:e=>{let t=Ar.findIndex((t=>t[1]===e.target.value));r(t)},onFocus:e=>e.target.blur(),variant:"standard",children:Ar.map(((e,t)=>Object(ae.jsx)(er.a,{value:e[1],sx:{mx:1.5},style:{fontSize:"1.1rem",marginBottom:5},children:h?e[2]:e[1]},t)))})}),Object(ae.jsx)(l.a,{style:{flexGrow:10},children:" "}),Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(Ct.a,{onClick:a,size:h?"small":"large",children:Object(ae.jsx)(nr.a,{})}),Object(ae.jsx)(Ct.a,{onClick:n,size:h?"small":"large",children:Object(ae.jsx)(cr.a,{})}),Object(ae.jsx)(Ct.a,{onClick:o,size:h?"small":"large",children:Object(ae.jsx)(rr.a,{})})]})]})})})},pr=s(126);class dr{constructor(){this.name=void 0}}class ur extends dr{constructor(){super(...arguments),this.name="sequential"}static moveCost_gen(){return new Map([["U",.8],["U'",.8],["U2",1],["R",.8],["R'",.8],["R2",1.2],["r",1],["r'",1],["r2",1.3],["L",1],["L'",1],["L2",1.4],["F",1.4],["F'",1.4],["F2",1.8],["f",1.4],["f'",1.4],["f2",1.8],["B",1.6],["B'",1.6],["B2",2],["D",1.3],["D'",1.3],["D2",1.6],["M",1.5],["M'",1.2],["M2",1.6],["S",3],["S'",1.3],["S2",2],["E",1.5],["E'",1.5],["E2",2.4]])}evaluate(e){let t=0;for(let s of e.moves){t+=ur.moveCost.get(s.name)||1.4}return 100*e.moves.length+t}}ur.moveCost=ur.moveCost_gen();class mr extends dr{constructor(){super(...arguments),this.name="two-gram"}evaluate(e){let t=0,s=["",...e.moves.map((e=>e.name)),""];for(let r=0;r<s.length-1;r++){let e=s[r]+s[r+1],a=Number.parseFloat(mr.meter[e]);Number.isNaN(a)&&(a=.3),t+=a}return t}}mr.meter=pr,function(e){e[e.HOME=0]="HOME",e[e.R_AWAY=1]="R_AWAY",e[e.Rp_AWAY=2]="Rp_AWAY",e[e.R2_AWAY=3]="R2_AWAY",e[e.DEAD_END=4]="DEAD_END"}(ir||(ir={}));class fr extends dr{constructor(){super(...arguments),this.name="dp"}static moveCost_gen(){const e=10;return{U:[1,2,e,e],"U'":[1,1,1,1],U2:[1.5,1.5,1.5,1.5],R:[1,1,1,e],"R'":[1,1,1,e],R2:[1.5,1.5,1.5,1.5],F:[2.5,e,1,e],"F'":[1,1.5,1,e],F2:[e,2,2,e],D:[1,1,1,e],"D'":[1,2,1,e],D2:[1.5,1.5,1.5,e],B:[e,1,3,e],"B'":[3,1.5,1,e],B2:[4,2,2,e],r:[1,1,1,e],"r'":[1,1,1,e],r2:[1.5,e,1.5,e],M:[1,2,2,e],"M'":[1,1.5,1.5,2],M2:[1.5,2,2,3]}}static moveTransition_gen(){let{R_AWAY:e,R2_AWAY:t,HOME:s,Rp_AWAY:r,DEAD_END:a}=ir;return{R:[e,t,s,a],"R'":[r,s,a,e],R2:[t,r,e,s],r:[e,t,s,a],"r'":[r,s,a,e],r2:[t,r,e,s]}}static regripCost_gen(){return[[0,2,2,3],[1.5,0,2,2],[1.5,3,0,10],[3,2,10,0]]}evaluate(e){return this.evaluate_with_plan(e).cost}evaluate_with_plan(e){const t=1e5,s=e.moves.length,r=Array(s+1).fill(null).map((()=>[t,t,t,t])),a=Array(s+1).fill(null).map((()=>Array(4).fill(null).map((()=>[-1,-1])))),n=fr.regripCost,o=fr.moveCost,c=fr.moveTransition;r[0]=[0,0,0,t];for(let f=0;f<s;f++){const t=e.moves[f].name;for(let e=0;e<4;e++)for(let s=0;s<4;s++){const l=r[f][e]+n[e][s]+o[t][s],i=c[t]?c[t][s]:s;i!==ir.DEAD_END&&(l<r[f+1][i]&&(r[f+1][i]=l,a[f+1][i]=[e,s]))}}let l=t,i=-1;for(let f=0;f<4;f++)r[s][f]<l&&(l=r[s][f],i=f);let h=i,p=[[h,h]];for(let f=s;f>=1;f--){const[e,t]=a[f][h];p.push([e,t]),h=e}p.reverse();let d=["HOME","R GRIP","R' GRIP","R2 GRIP"],u=`start from ${d[p[0][0]]}`,m=[];for(let f=0;f<s;f++){let[t,s]=p[f],r=e.moves[f].name;t===s?m.push(r):(u+=`, do ${m.join(" ")}, regrip to ${d[s]}`,m=[r])}return m.length&&(u+=`, do ${m.join(" ")}`),u+=`, end in ${d[p[s][0]]}`,{alg:e.toString(),cost:l,desc:u}}}fr.moveCost=fr.moveCost_gen(),fr.moveTransition=fr.moveTransition_gen(),fr.regripCost=fr.regripCost_gen();let br={scramble:"",post_scramble:"",full_solution:[],stage:"fb",orientation:"x2y",pre_orientation:"",num_solution:1,fb_stage:"fb",show_mode:"foreach",hide_solutions:!0};var gr=s(127),jr=s(265),vr=s(266),_r=s(250);s(128);const xr=Object(h.a)((e=>({container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(0),backgroundColor:e.palette.background.default,transition:"all .5s ease-in-out"},button:{width:"100%"},paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column",marginBottom:3,borderRadius:0},paper2:{paddingLeft:e.spacing(3),paddingTop:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginBottom:3,borderRadius:0},canvasPaper:{padding:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column"},infoColumn:{color:e.palette.background.paper},scrambleColumn:{paddingLeft:e.spacing(3)},textColumn:{[e.breakpoints.up("sm")]:{minHeight:138}},setup:{whiteSpace:"pre-line",fontSize:"1.4rem",fontWeight:500,[e.breakpoints.down("sm")]:{fontSize:"1.0rem",fontWeight:500}},condGap:{},fgap:{flexShrink:100,flexBasis:"1.5rem",minWidth:"1.5em",[e.breakpoints.down("sm")]:{flexBasis:"1.0rem",minWidth:"0.4rem"}},fixedHeight:{height:250},title:{color:e.palette.text.disabled,fontWeight:500,borderBottom:"3px solid"},title1:{fontWeight:500,marginTop:7,border:"1px solid",borderRadius:4,fontSize:"0.8rem"},stage:{paddingTop:5,paddingLeft:5},configItem:{paddingRight:15},stageText:{color:e.palette.text.primary,textTransform:"none"},sourceIcon:{color:e.palette.secondary.main,fontSize:15,padding:0},sourceIconWrap:{},fab:{position:"absolute",top:e.spacing(7),left:e.spacing(2)},prompt:{color:e.palette.text.secondary},formControl:{margin:e.spacing(0),minWidth:80,maxWidth:160},menu:{"& .MuiMenuItem-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}))),Or=e=>({...e,postScramble:"",full_solution:[],scramble:"",stage:"fb"});function yr(e){let{state:t,setState:s}=e,r=xr();const n=Object(te.a)(),o=Object(ee.a)(n.breakpoints.down("sm"));let[c,h]=a.a.useState(t.scramble);return Object(ae.jsxs)(l.a,{style:{display:"flex"},children:[Object(ae.jsx)(l.a,{style:{display:"flex",alignItems:"center",flexGrow:1},children:Object(ae.jsx)(Ye.a,{size:"medium",fullWidth:!0,multiline:!0,maxRows:3,label:"Scramble",value:c,onChange:e=>{h(null===e||void 0===e?void 0:e.target.value)},variant:"filled",inputProps:{sx:{fontSize:"1.2rem",fontWeight:500}}})}),Object(ae.jsx)(l.a,{style:{},className:r.fgap}),Object(ae.jsxs)(l.a,{sx:{display:"flex",flexDirection:o?"column":"row",gap:.5,alignItems:"stretch"},children:[Object(ae.jsx)(i.a,{onFocus:e=>e.target.blur(),onClick:()=>{let e=Oe.get_random_with_mask(Re.empty_mask),r=qs.get("min2phase").solve(e,0,0,0)[0].inv().toString();s({...Or(t),scramble:r}),h(r)},size:"medium",variant:"contained",color:"primary",children:"Gen"}),Object(ae.jsx)(i.a,{onFocus:e=>e.target.blur(),onClick:()=>{s({...Or(t),scramble:c})},size:"medium",variant:"contained",color:"primary",children:"GO"})]})]})}function Rr(e){let{state:t,setState:s}=e,r=xr();const a={PaperProps:{style:{maxWidth:160}},className:r.menu},n={fontSize:"1.0rem"};let o=t.orientation+","+t.pre_orientation,c=t.show_mode;return Object(ae.jsxs)(l.a,{display:"flex",flexWrap:"wrap",gap:0,sx:{rowGap:2},children:[Object(ae.jsx)(l.a,{className:r.configItem,children:Object(ae.jsxs)(ue.a,{className:r.formControl,children:[Object(ae.jsx)(jr.a,{id:"demo-simple-select-helper-label",children:"FB Orientation"}),Object(ae.jsxs)(tr.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:o,onChange:e=>{let r=e.target.value.split(",");s({...t,orientation:r[0],pre_orientation:r[1]})},MenuProps:a,sx:n,children:[Object(ae.jsx)(er.a,{value:"x2y,",children:"x2y on W/Y"}),Object(ae.jsx)(er.a,{value:"x2y,x",children:"x2y on B/G"}),Object(ae.jsx)(er.a,{value:"x2y,z",children:"x2y on R/O"}),Object(ae.jsx)(er.a,{value:"cn,",children:"Color Neutral"})]}),Object(ae.jsx)(vr.a,{})]})}),Object(ae.jsx)(l.a,{className:r.configItem,children:Object(ae.jsxs)(ue.a,{className:r.formControl,children:[Object(ae.jsx)(jr.a,{id:"demo-simple-select-helper-label",children:"Organize"}),Object(ae.jsxs)(tr.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:c,onChange:e=>{let r=e.target.value;s({...t,show_mode:r})},MenuProps:a,sx:n,children:[Object(ae.jsx)(er.a,{value:"foreach",children:"By FB"}),Object(ae.jsx)(er.a,{value:"combined",children:"Combined "})]}),Object(ae.jsx)(vr.a,{})]})}),Object(ae.jsx)(l.a,{className:r.configItem,children:Object(ae.jsxs)(ue.a,{className:r.formControl,children:[Object(ae.jsx)(jr.a,{id:"demo-simple-select-helper-label",children:"# Solutions"}),Object(ae.jsxs)(tr.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:t.num_solution,onChange:e=>{let r=Number.parseInt(e.target.value);s({...t,num_solution:r||t.num_solution})},MenuProps:a,sx:n,children:[Object(ae.jsx)(er.a,{value:1,children:"1"}),Object(ae.jsx)(er.a,{value:3,children:"3 "}),Object(ae.jsx)(er.a,{value:5,children:"5"}),Object(ae.jsx)(er.a,{value:10,children:"10 "}),Object(ae.jsx)(er.a,{value:25,children:"25 "})]}),Object(ae.jsx)(vr.a,{})]})}),Object(ae.jsx)(l.a,{className:r.configItem,children:Object(ae.jsxs)(ue.a,{className:r.formControl,children:[Object(ae.jsx)(jr.a,{id:"demo-simple-select-helper-label",children:"FB Stage"}),Object(ae.jsxs)(tr.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:t.fb_stage,onChange:e=>{let r=e.target.value;s({...t,fb_stage:r})},MenuProps:a,sx:n,children:[Object(ae.jsx)(er.a,{value:"fb",children:"FB"}),Object(ae.jsx)(er.a,{value:"fs",children:"FS"}),Object(ae.jsx)(er.a,{value:"pseudo-fs",children:"Pseudo FS"}),Object(ae.jsx)(er.a,{value:"felinep1",children:"E-Line+1"}),Object(ae.jsx)(er.a,{value:"fs-combo",children:"FS/Line"})]}),Object(ae.jsx)(vr.a,{})]})}),Object(ae.jsx)(l.a,{className:r.configItem,children:Object(ae.jsxs)(ue.a,{className:r.formControl,children:[Object(ae.jsx)(jr.a,{id:"hide-solutions-label",children:"Hints?"}),Object(ae.jsxs)(tr.a,{labelId:"hide-solutions-label",id:"hide-solutions-select",value:t.hide_solutions.toString(),onChange:e=>{let r=e.target.value;s({...t,hide_solutions:"true"===r})},MenuProps:a,sx:n,children:[Object(ae.jsx)(er.a,{value:"true",children:"Yes"}),Object(ae.jsx)(er.a,{value:"false",children:"No"})]}),Object(ae.jsx)(vr.a,{})]})})]})}function wr(e){const t=new Map;return s=>{const r=String(s);if(t.has(r))return t.get(r);const a=e(s);return t.set(r,a),a}}const Ur=wr((function(e){const t=new ve(e).inv(),s=(new ge).apply(t);return qs.get("center").solve(s,0,3,1)[0].toString()})),kr=ye.default_colors;function Sr(e){let{colors:t}=e;return Object(ae.jsx)(l.a,{sx:{display:"inline-flex",alignItems:"center",gap:.2},children:t.map(((e,t)=>Object(ae.jsx)(l.a,{sx:{width:"1.0rem",height:"1.1rem",backgroundColor:kr[e],border:"1px solid rgba(0,0,0,0.5)",display:"inline-block"}},t)))})}const Fr=wr((function(e){const t=(new ge).apply(e),s=_e.color_of_sticker(t,[5,0,y.E]),r=_e.color_of_sticker(t,[5,1,y.E]),a=["W","Y","G","B","O","R"];return[a[s],a[r]]}));function Lr(e){let{solution:t,stage:s,premove:r,orientation:a,fb_tag:n}=e.solution,o=(()=>{if("fb"===s){const e=Fr(a||"");return[Object(ae.jsx)(Sr,{colors:e},"colors"),n].filter(Boolean)}return"ss-front"===s||"ss-back"===s?[s]:[]})();const i=void 0!==e.shortestLength&&t.moves.length===e.shortestLength,h=Ur(a+" "+r);return Object(ae.jsxs)(l.a,{style:{display:"flex",marginBottom:"2px",alignItems:"center"},children:[o.filter((e=>e)).map(((e,t)=>Object(ae.jsx)(_r.a,{variant:"outlined",size:"small",color:"primary",label:e,sx:{"& .MuiChip-label":{fontSize:"0.9rem",fontWeight:500,padding:"0 8px",minWidth:"6ch",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"}}},t))),Object(ae.jsx)(l.a,{style:{width:".5ch"}}),Object(ae.jsx)(l.a,{style:{marginLeft:5},children:Object(ae.jsxs)(c.a,{sx:{fontSize:"1.3rem"},children:[h+" "+t.moves.map((e=>e.name)).join(" "),i&&" (*)"]})})]})}function Mr(e){let{solutions:t,num_to_display:s,state:r}=e;const[n,o]=a.a.useState(!r.hide_solutions);a.a.useEffect((()=>{o(!r.hide_solutions)}),[r.hide_solutions,t]);const i=t.length>0?t.reduce(((e,t)=>t.solution.moves.length<e.solution.moves.length?t:e)):null,h=(null===i||void 0===i?void 0:i.solution.moves.length)||0,p=t.filter((e=>e.solution.moves.length===h)),d={FS:"FS",FB:"FB",Ps:"Pseudo FS",Line:"E-Line + 1c"},u=p.map((e=>({tag:d[e.fb_tag||"FB"],fb_name:Fr(e.orientation||"")}))).reduce(((e,t)=>(e[t.tag]||(e[t.tag]=new Set),e[t.tag].add(t.fb_name.join("-")),e)),{}),m=Object.entries(u).map((e=>{let[t,s]=e;const r=[...s].map((e=>{const[t,s]=e.split("-");return Object(ae.jsx)(Sr,{colors:[t,s]},e)}));return Object(ae.jsxs)(a.a.Fragment,{children:[Object(ae.jsx)(l.a,{sx:{width:"100%",mb:1},children:Object(ae.jsx)(c.a,{variant:"body1",color:"text.primary",sx:{fontSize:"1.1rem",textAlign:"center"},children:`There exists ${h}-STM ${t||"solution"} in: `})}),Object(ae.jsx)(l.a,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center",mb:2},children:r})]},t)}));return Object(ae.jsx)(l.a,{lineHeight:1,children:t.length>0&&Object(ae.jsx)(l.a,{onClick:n?void 0:()=>{o(!0)},sx:{cursor:n?"default":"pointer"},children:n?Object(ae.jsx)(l.a,{children:t.slice(0,s).map(((e,t)=>Object(ae.jsx)(Lr,{solution:e,shortestLength:null===i||void 0===i?void 0:i.solution.moves.length},t)))}):Object(ae.jsxs)(l.a,{sx:{width:"100%"},children:[m,Object(ae.jsx)(c.a,{variant:"body1",color:"text.secondary",sx:{mt:1,fontSize:"1.0rem",textAlign:"center"},children:"(Click to reveal)"})]})})})}var Br=function(e){let{state:t}=e;const s=Object(te.a)();let[r,n]=a.a.useState(br),o=xr(),c=Re.solved_mask,h=(new ge).apply(r.scramble).apply(r.post_scramble),p=_e.from_cubie(h,c);const d=Object(gr.a)(r);let u=d.isRunning?[]:d.solutions||[],m=u.length;"combined"===r.show_mode&&(u=u.sort(((e,t)=>e.score-t.score)),m=r.num_solution);const g=Object(ee.a)(s.breakpoints.up("md")),j=Object(ee.a)(s.breakpoints.up("sm")),v=Object(ee.a)(s.breakpoints.down("sm"));console.log("isSmallScreen",v,s.breakpoints);const _=g||j?[400,350]:[320,280],x=Object(ae.jsx)(be.a,{className:o.paper,elevation:2,children:Object(ae.jsx)(Rr,{state:r,setState:n})});return be.a,o.paper2,l.a,r.full_solution.length>=1&&(ae.Fragment,l.a,l.a,o.title,l.a,o.fgap),Object(ae.jsxs)(l.a,{className:o.container,children:[Object(ae.jsx)(be.a,{className:o.paper,elevation:1,children:Object(ae.jsx)(yr,{state:r,setState:n})}),!v&&x,Object(ae.jsx)(be.a,{className:o.paper,children:Object(ae.jsxs)(f.a,{container:!0,children:[Object(ae.jsx)(f.a,{item:!0,md:6,sm:12,xs:12,className:o.condGap,children:Object(ae.jsxs)(l.a,{style:{display:"flex"},children:[Object(ae.jsx)(l.a,{display:"flex",children:Object(ae.jsxs)(l.a,{style:{display:"flex",flexDirection:"column",alignSelf:"flex-start"},children:[Object(ae.jsx)(l.a,{className:o.title,style:{},children:"Solutions"}),Object(ae.jsx)(l.a,{children:Object(ae.jsx)(i.a,{className:o.title1,size:"small",variant:"outlined",color:"primary",children:r.stage})})]})}),Object(ae.jsx)(l.a,{style:{},className:o.fgap}),Object(ae.jsx)(l.a,{style:{flexGrow:1},children:Object(ae.jsx)(Mr,{solutions:u,num_to_display:m,state:r,setState:n})})]})}),Object(ae.jsx)(f.a,{item:!0,md:6,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(ae.jsx)(l.a,{style:{backgroundColor:"rgba(0, 0, 0, 0)"},children:Object(ae.jsx)(de,{width:_[0],height:_[1],cube:p,colorScheme:t.colorScheme.getColorsForOri("WG"),hintDistance:6,theme:t.config.theme.getActiveName(),facesToReveal:[b.L,b.B,b.D]})})})]})}),v&&x]})},Dr=s(129);function Er(e){const{children:t,value:s,index:r,...a}=e;return Object(ae.jsx)(c.a,{component:"div",role:"tabpanel",hidden:s!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...a,children:s===r&&Object(ae.jsx)(l.a,{p:0,children:t})})}const Cr=Object(h.a)((e=>({page:{backgroundColor:e.palette.background.default},container:{display:"flex"},icon:{minWidth:0},root:{display:"flex"},bar:{backgroundColor:e.palette.primary.main,color:e.palette.background.paper},select:{backgroundColor:e.palette.primary.main,color:e.palette.background.paper,borderRadius:4,border:"1px solid "+e.palette.background.default}}))),Ar=[["fb","First Block (Fixed)","FB (fixed)"],["analyzer","First Block Analyzer (x2y | CN)","FB analyzer (x2y | CN)"],["fs","First Block Square","FB square"],["fsdr","First Block Square + DR edge","FB square + DR"],["fbdr","First Block Last Pair (+ DR edge)","FB last pair (+DR)"],["fbss","First Block Last Pair + Second Square","FB last pair + SS"],["ss","Second Block Square","SB square"],["cmll","CMLL","CMLL"],["4c","LSE 4c","LSE 4c"],["eopair","EOLR / EOLRb","EOLR(b)"]];function Nr(){const e=Ar.findIndex((e=>"fbdr"===e[0]));if(window.location.hash){let t=Ar.findIndex((e=>e[0]===window.location.hash.slice(1)));return-1===t?(window.location.hash="",e):t}return e}function Pr(){return Object(ae.jsx)(Dr.a,{children:"# Onionhoney's Roux Trainers\n- A trainer collection that caters to all your Roux training needs  \u2764\ufe0f\n- Inspired by http://cubegrass.appspot.com/, but with everything that it is missing.\n\n## Modes supported\n- FB analyzer\n    - Solves for all x2y FBs, and suggests the best FB to start with!\n    - Also suggests the best FS/Pseudo FS/Line to start with!\n    - Can be presented as a 'can you find the x-mover' quiz with solution revealed in the spoiler.\n    - More orientations supported too (CN, blue/green x2y, red/orange x2y)\n- FB last slot (+ DR) trainer\n    - `HIGHLY USEFUL` if you're learning FB or FB + DR. Get a random scramble, think on your own, and check with our solutions!\n    - **Note**: while I try my best, the solver can still miss out on the best overall solution. So please, consult your human fellows when you're unsure, and always be careful with what you choose to learn.\n- FS/FB/SS trainer\n    - You can specify by piece positions. It seems these modes are pretty useful in providing new insights into blockbuilding  (for us dumb humans).\n- CMLL trainer\n    - Truly random L10P scrambles so you can't tell the cases. You can specify different OCLLs. You can even start with a random SB last pair (to simulate how real recognition works)\n    - Show only the stickers necessary for recognition!\n- LSE trainers (EOLR, 4c)\n    - Good for reviewing EOLR and practicing your 4c recognition method. You can filter by MC/Non-MC cases too.\n\n## Shortcuts\n- Space for the next scramble.\n- Enter to reset the virtual cube to current scramble.\n- Control your cube with cstimer key mapping.\n\n## Functionalities\n- Scrambles are all random state. Solver is Roux-optimized with M and r moves as first-class citizens, with up to 25 different solutions provided.\n\n- You can control the virtual cube with keyboard (CStimer mapping). You can also drag on the cube to change its perspective.\n\n- You can bookmark your favorite cases and these will be saved in your browser.\n\n- You can input your own scrambles as a list and our trainer will drain them one by one!\n\n- Appearance: dark mode enabled.\n\n---\n\n## Version Log\n- (v1.0.0) All work prior to 12/02/2020, which I forgot to version log for.\n- (v1.0.1) 12/02/2020: Add edge position control for FB Last Pair trainer.\n- (v1.1) 12/15/2020: Reworked UI. App bar now features a dropdown menu for selecting the mode. Scramble occupies its own row. Solutions are shown side by side with the sim cube in large screen.\n- (v1.2) 12/17/2020: Add support for scramble input for all modes. Now you can paste in a list of scrambles, and the trainer will consume them one by one in order.\n- (v1.3) 12/20/2020: Solve Analysis Beta is online! It can do the following:\n    - For any random scramble, it'll recommend the best FB solutions over all orientations (e.g. x2y yellow/white).\n    - Given a solve reconstruction, it'll analyze each stage, and compare your solution there with the solver-suggested solutions.\n- (v1.4) 12/23/2020: Refine the appearance of the virtual cube and enable camera control with mouse dragging.\n- (v1.5) 2/18/2021: Introduced Tracking Trainer Beta.\n- Refer to Github page for the full version log: https://github.com/onionhoney/roux-trainers\n\n---\n\nIf you have ideas on how to improve the app just shoot a message and let me know. <3\n"})}var Tr=function(e){let{state:t,dispatch:s}=e,r=Cr();const n=a.a.useCallback((e=>{if(e<Ar.length){b(e);let t=Ar[e][0];s({type:"mode",content:t})}}),[s]),[o,c]=a.a.useState(!1),[h,b]=a.a.useState(Nr());a.a.useEffect((()=>{s({type:"mode",content:Ar[Nr()][0]})}),[s]);const g=()=>{c(!1)},[j,v]=a.a.useState(!1);return Object(ae.jsxs)("main",{children:[Object(ae.jsxs)(p.a,{open:o,onClose:g,children:[Object(ae.jsx)(d.a,{dividers:!0,children:Object(ae.jsx)(Pr,{})}),Object(ae.jsx)(u.a,{children:Object(ae.jsx)(i.a,{color:"primary",onClick:g,children:"Got it!"})})]}),Object(ae.jsx)(hr,{onChange:n,value:h,handleInfoOpen:()=>{c(!0)},toggleBright:()=>{const e=[...t.config.theme.flags];e[0]=1-e[0],e[1]=1-e[1],s({type:"config",content:{theme:t.config.theme.setFlags(e)}})},toggleFav:()=>{v(!j)}}),Object(ae.jsx)(l.a,{paddingY:2,paddingX:0,children:Object(ae.jsx)(m.a,{maxWidth:j?"lg":"md",children:-1===h?Object(ae.jsx)(f.a,{container:!0,className:r.container,spacing:3,children:Object(ae.jsx)(f.a,{item:!0,md:12,sm:12,xs:12,children:Object(ae.jsx)(Er,{value:h,index:4,className:r.page,children:Object(ae.jsx)(Zt,{state:t,dispatch:s})})})}):Object(ae.jsxs)(f.a,{container:!0,className:r.container,spacing:3,children:[Object(ae.jsx)(f.a,{item:!0,hidden:!j,md:4,sm:4,xs:12,children:Object(ae.jsx)(Js,{state:t,dispatch:s})}),Object(ae.jsx)(f.a,{item:!0,md:j?8:12,sm:j?8:12,xs:12,children:(_=[Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Br,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Lt,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s}),Object(ae.jsx)(Ht,{state:t,dispatch:s})],Object(ae.jsx)(a.a.Fragment,{children:_.map(((e,t)=>Object(ae.jsx)(Er,{value:h,index:t,className:r.page,children:e},t)))}))})]})})})]});var _};const zr="2.2";class Ir{constructor(e){this.names=void 0,this.flags=void 0,this.kind=void 0,this.label=void 0,this.annotation=void 0;const{names:t,flags:s,kind:r,label:a,annotation:n}=e;this.names=t,this.flags=s,this.kind=r,this.label=a,this.annotation=n}getActiveNames(){let e=[];for(let t=0;t<this.flags.length;t++)1===this.flags[t]&&e.push(this.names[t]);return e}getActiveName(){for(let e=0;e<this.flags.length;e++)if(1===this.flags[e])return this.names[e];return""}setFlags(e){const{names:t,kind:s,label:r}=this;return new Ir({names:t,flags:e,kind:s,label:r})}}const Wr=[],Yr=dt.map((e=>e[0])),Gr=dt.map((e=>e[0])),Hr="Only show cases where non-MC is optimal",$r="Only show cases where MC is optimal",Vr="Combined",Kr="Only show MC solutions",Xr="Only show non-MC solutions",qr={fbdrLevelSelector:{l:1,r:7,label:"fbdr-level",value:0,extend_r:!0},fbssLevelSelector:{l:3,r:9,label:"fbss-level",value:2},fsLevelSelector:{l:1,r:6,label:"fs-level",value:0},fbLevelSelector:{l:3,r:8,label:"fb-level",value:2,extend_r:!0},ssLevelSelector:{l:1,r:10,label:"ss-level",value:0}},Zr=(()=>{let e=Array(24).fill(0);return e[7]=1,{showCube:new Ir({label:"Virtual Cube",names:["Show","Hide"],flags:[1,0],kind:"virtual-cube"}),theme:new Ir({names:["bright","dark"],flags:[0,1],kind:"theme"}),evaluator:new Ir({label:"Solution Sorting Metrics",names:["Default","QTM"],flags:[1,0],kind:"evaluator"}),moveCountHint:new Ir({label:"Show Movecount Hint",names:["Show","Hide"],flags:[1,0],kind:"movecount_hint"}),cmllSelector:new Ir({names:["o","s","as","t","l","u","pi","h"],flags:[1,1,1,1,1,1,1,1],kind:"cmll"}),nmcllSelector:new Ir({names:["o_1","o_2","s_1","s_2","s_3","as_1","as_2","as_3","t_1","t_2","t_3","u_1","u_2","u_3","l_1","l_2","l_3","pi_1","pi_2","pi_3","h_1","h_2","h_3"],flags:Array(23).fill(1),kind:"nmcll"}),cmllCaseSelector:new Ir({names:Yr,flags:Array(Yr.length).fill(1),kind:"cmll_case"}),cmllAufSelector:new Ir({names:["None","U","U'","U2"],flags:[1,1,1,1],kind:"u_auf"}),cmllCubeMaskSelector:new Ir({names:["Show","Hide","Hide LSE"],flags:[1,0,0],kind:"cube_mask"}),cmll2D3DSelector:new Ir({names:["flat3D","3D","2D"],flags:[1,0,0],kind:"cmll_vis_type"}),cmll3DFaceSelector:new Ir({names:["Show","Hide"],flags:[0,1],kind:"cmll_3d_faces"}),cmllflat3DFaceSelector:new Ir({names:["L","R"],flags:[0,1],kind:"cmll_flat3d_faces"}),cmllKataSelector:new Ir({names:["off","on"],flags:[1,0],kind:"cmll_kata_type"}),cmllBatchModeSelector:new Ir({names:["off","on"],flags:[1,0],kind:"cmll_batch_mode"}),triggerSelector:new Ir({names:["RUR'","RU'R'","R'U'R","R'UR","RU2R'","R'U2R"],flags:[0,0,0,0,0,0],kind:"trigger"}),hyperOriSelector:new Ir({names:["off","L/R","F/B"],flags:[1,0,0],kind:"hyperori"}),ollcpCaseSelector:new Ir({names:Gr,flags:Array(Gr.length).fill(1),kind:"ollcp_case"}),orientationSelector:new Ir({label:"Color Scheme (U-F)",names:["WG","WB","WO","WR","YG","YB","YO","YR","BW","BY","BO","BR","GW","GY","GO","GR","OW","OY","OB","OG","RW","RY","RB","RG"],flags:e,kind:"orientation"}),fbBasisSelector:new Ir({label:"Basis (piece considered solved) for FB. Default is L-center solved.",names:["Default","DL","BL"],flags:[1,0,0],kind:"fb-basis"}),fbdrSelector:new Ir({label:"Position of square",names:["FS at back","FS at front","Either"],flags:[1,0,0],kind:"fbdr"}),fbdrScrambleSelector:new Ir({label:"Type of scramble",names:["Short (Concerning FBDR Pieces only)","Random State (Entire cube, useful for practicing F2B)"],flags:[1,0],kind:"fbdr-scramble"}),fbOnlySelector:new Ir({label:"Pieces to solve",names:["FB Last Pair + DR","FB Last Pair Only"],flags:[0,1],kind:"fb-only"}),fbPairSolvedSelector:new Ir({label:"Last Pair pattern",names:["Random","Solved"],flags:[1,0],kind:"fb-pair-solved"}),fbdrPosSelector1:new Ir({label:"Position of FB edge",names:["UF","FU","UL","LU","UB","BU","UR","RU","DF","FD","DB","BD","DR","RD","BR","RB","FR","RF"],flags:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],kind:"fbdr-position-1"}),fbdrPosSelector2:new Ir({label:"Position of FB edge",names:["UF","FU","UL","LU","UB","BU","UR","RU","DF","FD","DB","BD","DR","RD","BR","RB","FR","RF"],flags:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],kind:"fbdr-position-2"}),fbdrPosSelector3:new Ir({label:"Position of DR",names:["UF","FU","UL","LU","UB","BU","UR","RU","DF","FD","DB","BD","DR","RD","BR","RB","FR","RF"],flags:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],kind:"fbdr-position-3"}),fsSelector:new Ir({label:"Position of square",names:["Front FS","Back FS","Both"],flags:[0,0,1],kind:"fs"}),ssSelector:new Ir({label:"Square position",names:["Front SS","Back SS","Both"],flags:[1,0,0],kind:"ss"}),ssEOSelector:new Ir({label:"Orientation of DR",names:["Oriented","Misoriented","Either"],flags:[1,0,0],kind:"ss-orientation"}),ssPosSelector:new Ir({label:"Position of DR",names:["UF","FU","UL","LU","UB","BU","UR","RU","DF","FD","DB","BD","DR","RD","BR","RB","FR","RF"],flags:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],kind:"ss-position"}),ssPairOnlySelector:new Ir({label:"Pieces to solve",names:["SS","DR fixed"],flags:[1,0],kind:"sb-pair-only"}),solutionNumSelector:new Ir({label:"Number of solutions",names:["1","3","5","10","25","100"],flags:[0,0,1,0,0,0],kind:"solution-num"}),fbPieceSolvedSelector:new Ir({label:"Difficulty",names:["Random","DL Solved","BL Solved","Hard","Hard over x2y (Scramble only)"],annotation:"\nExplanation:\nThese modes apply different constraints on your FB state.\n[Hard] means there's no free pair AND no edges attached to the L center.\n[Hard over x2y] means it's hard for all FBs over the x2y orientations. To see solutions, paste them into the FB analyzer.",flags:[1,0,0,0,0],kind:"fb-piece-solved"}),fbssLpSelector:new Ir({label:"FBLP Position",names:["Front FBLP","Back FBLP"],flags:[1,0],kind:"fbss-lp"}),fbssSsSelector:new Ir({label:"SS Position",names:["Front SS","Back SS","Both"],flags:[1,0,0],kind:"fbss-ss"}),lseMCSelector:new Ir({label:"Center",names:["Aligned","Misaligned"],flags:[0,1],kind:"lse-mc"}),lseBarSelector:new Ir({label:"EO Pair",names:["ULUR","UFUB"],flags:[1,0],kind:"lse-bar"}),lseStageSelector:new Ir({label:"Stage",names:["4b for MC(1 move EOPair insert)","M2 to 4c","4c"],flags:[0,1,0],kind:"lse-stage"}),lseEOSelector:new Ir({label:"EO",names:["solved","arrow","4/0","2o/0","2a/0","1/1","6flip","2o/2","0/2","2a/2"],flags:[0,1,1,1,1,1,1,1,1,1],kind:"lse-eo"}),lseEOLRMCSelector:new Ir({label:"Center strategy",names:[Xr,Kr,Vr,Hr,$r],flags:[0,0,1,0,0],kind:"lse-eolrmc"}),lseBarbieSelector:new Ir({label:"EOLR / EOLRb",names:["EOLR","EOLRb","EOdM"],flags:[1,0,0],kind:"lse-barbie"}),lseEOLRScrambleSelector:new Ir({label:"Type of scramble",names:["Short","Random State"],flags:[0,1],kind:"lse-eolr-scramble"}),...qr}})();let Jr=function(){let e=null;return{getFavList:()=>{if(e)return e;const t=window.localStorage.getItem("fav");return(t?JSON.parse(t):Wr).map((e=>{let{mode:t,setup:s,solver:r}=e;return{mode:t,setup:s,solver:r.trim().split("|")}}))},setFavList:t=>{const s=t.map((e=>{let{mode:t,setup:s,solver:r}=e;return{mode:t,setup:s,solver:r.join("|")}}));window.localStorage.setItem("fav",JSON.stringify(s)),e=t}}}(),Qr=e=>JSON.stringify(e),ea=e=>{const t=JSON.parse(e);return Object.fromEntries(Object.entries(t).map((e=>{let[t,s]=e;return"names"in s?[t,new Ir(s)]:[t,s]})))},ta=function(){const e="config",t="version";let s=null,r=()=>{if(s)return s;const r=window.localStorage.getItem(e),a=window.localStorage.getItem(t),n=r?ea(r):Zr;if(a!==zr){let s=Zr;return n.orientationSelector&&(s={...Zr,orientationSelector:new Ir(n.orientationSelector)}),n.theme&&(s={...s,theme:new Ir(n.theme)}),window.localStorage.setItem(e,Qr(s)),window.localStorage.setItem(t,zr),s}if(null===n||void 0===n||0===Object.keys(n).length)return window.localStorage.setItem(e,Qr(Zr)),Zr;if(Object.keys(n).length<Object.keys(Zr).length){const t={...Zr,...n};return window.localStorage.setItem(e,Qr(t)),t}return s=n,s};return{getConfig:r,setConfig:t=>{let a=Object.assign(r(),t);window.localStorage.setItem(e,Qr(a)),s=a},resetConfig:()=>{const s=window.localStorage.getItem(e),r=s?ea(s):Zr;let a=Zr;return r.orientationSelector&&(a={...Zr,orientationSelector:new Ir(r.orientationSelector)}),window.localStorage.setItem(e,Qr(a)),window.localStorage.setItem(t,zr),a}}}(),{getConfig:sa,setConfig:ra,resetConfig:aa}=ta,na=Jr.getFavList,oa=Jr.setFavList;class ca{constructor(e){this.state=void 0,this.state=e}onReplay(e){return this.state}}class la{}la.create=e=>1;class ia extends ca{getLevelSelector(){return null}checkLevelConstraint(e){let t=this.getLevelSelector();return!t||(t.value===t.l-1||t.value===e||t.value===t.r&&t.value<e&&!!t.extend_r||t.value===t.l&&t.value>e&&!!t.extend_l)}levelConstraintOkayWithUpperBound(e){let t=this.getLevelSelector();return!t||(t.value===t.l-1||t.value>=e||t.value===t.r&&!!t.extend_r)}getRandom(){for(let e=0;e<this.levelMaxAttempt;e++){let{cube:t,solvers:s,ssolver:r}=this.getRandomAnyLevel();const a=this.premoves||[""];let n=Math.min(...s.map((e=>a.map((s=>qs.get(e).getPruners()[0].query(t.apply(s)))))).flat());if(!this.levelConstraintOkayWithUpperBound(n))continue;let o=Math.min(...s.map((e=>a.map((s=>qs.get(e).solve(t.apply(s),0,this.solverR,1)[0].moves.length)))).flat());if(this.checkLevelConstraint(o))return console.debug(`generated random state after ${e+1} tries.`),{cube:t,solvers:s,ssolver:r}}return console.log(`failed to generate random state after ${this.levelMaxAttempt} tries`),{...this.getRandomAnyLevel(),failed:!0}}constructor(e){super(e),this.solverL=void 0,this.solverR=void 0,this.scrambleMargin=2,this.scrambleCount=3,this.algDescWithMoveCount="",this.expansionFactor=5,this.premoves=[""],this.orientations=[""],this.evaluator=void 0,this.levelMaxAttempt=1e3,this.evaluator=new ur}_solve_with_solvers(e,t){const s=this.state,r=0|+(s.config.solutionNumSelector.getActiveName()||5)*this.expansionFactor,a=+(s.config.solutionNumSelector.getActiveName()||5);return t.map((t=>{const s=qs.get(t);let n=(this.premoves||[""]).map((t=>s.solve(e.apply(t),0,this.solverR,r).map((e=>({pre:t,sol:e,score:this.evaluator.evaluate(e)}))))).flat();n.sort(((e,t)=>e.score-t.score));return{id:`${t}`,algs:n.slice(0,a).map((e=>(""===e.pre?"":"("+e.pre+") ")+e.sol.toString(this.algDescWithMoveCount))),kind:`${t}`}}))}_solve(e,t,s){const r=this.state;s=s||{};let a,n=this._solve_with_solvers(e,t);if(s.scramble)a=s.scramble;else if(s.updateSolutionOnly)a=this.state.case.desc[0].setup;else{const r="min2phase"===s.scrambleSolver?qs.get("min2phase").solve(e,0,0,0)[0].inv():(r=>{const a=new ve(n[0].algs[0]).remove_setup().moves.length;return null===(r=X(qs.get(s.scrambleSolver||t[0]).solve(e,Math.min(this.solverR,Math.max(this.solverL,a+this.scrambleMargin)),this.solverR,this.scrambleCount||1)))||void 0===r?void 0:r.inv()})();a=r.toString()}0===n.length?n=[{id:"min2phase",algs:[],setup:a,kind:"min2phase"}]:n.forEach((e=>e.setup=a));const o=s.updateSolutionOnly?this.state.cube.ori:Ot(r.config.orientationSelector)().id,c=s.updateSolutionOnly?this.state.name:"hiding";return{...r,name:c,cube:{...r.cube,state:e,ori:o},case:{state:(new ge).apply(a),desc:n}}}_updateCase(){let e,{cube:t,solvers:s,ssolver:r,failed:a}=this.getRandom();this.state.scrambleInput.length>0&&(e=this.state.scrambleInput[0],t=(new ge).apply(e));let n=this._solve(t,s,{updateSolutionOnly:!1,scrambleSolver:r,scramble:e});return e&&(n={...n,scrambleInput:n.scrambleInput.slice(1)}),n={...n,cube:{...n.cube,levelSuccess:!a}},n}_updateCap(){const e=this.state;if(0===e.case.desc.length)return e;const[t,s]=[e.cube.state,e.case.desc.map((e=>e.kind))];return this._solve(t,s,{updateSolutionOnly:!0})}onReplay(e){const t=(new ge).apply(e.setup);return{...this._solve(t,e.solver,{scramble:e.setup}),mode:e.mode}}onControl(e){let t=this.state;return"#space"===e?"revealed"===t.name?this._updateCase():{...t,name:"revealed"}:"#enter"===e?{...t,cube:{...t.cube,state:t.case.state}}:t}onMove(e){let t=this.state,s=new ve(e),r=t.cube.state.apply(s);return{...t,cube:{...t.cube,state:r}}}onConfig(e){return!J(this.state.config.solutionNumSelector.flags,e.solutionNumSelector.flags)?la.create({...this.state,config:e})._updateCap():this.state}}class ha extends ia{constructor(){super(...arguments),this.solverL=8,this.solverR=10,this.edgePositionMap=[[0,0],[1,0],[0,1],[1,1],[0,2],[1,2],[0,3],[1,3],[0,4],[1,4],[0,6],[1,6],[0,7],[1,7],[0,10],[1,10],[0,11],[1,11]],this.allowed_pedge=[],this.allowed_dr=[]}_get_pair_solved_front(){let[e,t,s,r]=X(Y),a=Oe.get_random_with_mask(Re.fs_back_mask);for(let n=0;n<8;n++)4===a.cp[n]&&(a.cp[n]=a.cp[e],a.co[n]=a.co[e],a.cp[e]=4,a.co[e]=t);for(let n=0;n<12;n++)8===a.ep[n]&&(a.ep[n]=a.ep[s],a.eo[n]=a.eo[s],a.ep[s]=8,a.eo[s]=r);return a}_get_pair_solved_back(){let[e,t,s,r]=X(G),a=Oe.get_random_with_mask(Re.fs_front_mask);for(let n=0;n<8;n++)5===a.cp[n]&&(a.cp[n]=a.cp[e],a.co[n]=a.co[e],a.cp[e]=5,a.co[e]=t);for(let n=0;n<12;n++)9===a.ep[n]&&(a.ep[n]=a.ep[s],a.eo[n]=a.eo[s],a.ep[s]=9,a.eo[s]=r);return a}_edge_piece_in_pattern(e,t,s){let r=e.ep.indexOf(t),a=e.eo[r];return s.find((e=>{let[t,s]=e;return t===a&&s===r}))}_get_random_fs_back(){let e=Oe.get_random_with_mask(Re.fs_back_mask);for(let t=0;t<1e3&&(!this._edge_piece_in_pattern(e,7,this.allowed_dr)||!this._edge_piece_in_pattern(e,8,this.allowed_pedge));t++)e=Oe.get_random_with_mask(Re.fs_back_mask);return e}_get_random_fs_front(){let e=Oe.get_random_with_mask(Re.fs_front_mask);for(let t=0;t<1e3&&(!this._edge_piece_in_pattern(e,7,this.allowed_dr)||!this._edge_piece_in_pattern(e,9,this.allowed_pedge));t++)e=Oe.get_random_with_mask(Re.fs_front_mask);return e}getLevelSelector(){return this.state.config.fbdrLevelSelector}getRandomAnyLevel(){const e="FB Last Pair Only"===this.state.config.fbOnlySelector.getActiveName(),t="Random"!==this.state.config.fbPairSolvedSelector.getActiveName(),s=[e?"fb":"fbdr"],r=!(this.state.config.fbdrScrambleSelector.getActiveName()||"Short").startsWith("Short")?"min2phase":s[0];let a,n=this.state.config.fbdrSelector.getActiveNames()[0];return this.allowed_pedge=this.state.config.fbdrPosSelector1.flags.map(((e,t)=>[e,t])).filter((e=>{let[t,s]=e;return t})).map((e=>{let[t,s]=e;return this.edgePositionMap[s]})),this.allowed_dr=this.state.config.fbdrPosSelector3.flags.map(((e,t)=>[e,t])).filter((e=>{let[t,s]=e;return t})).map((e=>{let[t,s]=e;return this.edgePositionMap[s]})),this.solverL=t?e?5:7:e?7:8,a="FS at back"===n?t?this._get_pair_solved_front():this._get_random_fs_back():"FS at front"===n?t?this._get_pair_solved_back():this._get_random_fs_front():t?X([()=>this._get_pair_solved_front(),()=>this._get_pair_solved_back()])():X([()=>this._get_random_fs_back(),()=>this._get_random_fs_front()])(),{cube:a,solvers:s,ssolver:r}}}class pa extends ia{constructor(){super(...arguments),this.solverL=8,this.solverR=11,this.premoves=["","x","x'","x2"],this.levelMaxAttempt=2e3}_find_center_connected_edges(e,t){let s=t?[b.L]:[b.F,b.B,b.L,b.R];return Oe.stickers.filter((t=>t[2]===y.E&&s.includes(t[3])&&_e.color_of_sticker(e,[t[0],t[1],t[2]])===t[3]))}_get_random(){let e,t=this.state.config.fbPieceSolvedSelector.getActiveName();e="Random"===t?Re.empty_mask:"DL Solved"===t?Re.dl_solved_mask:"BL Solved"===t?Re.bl_solved_mask:"Zhouheng Variant"===t?Re.zhouheng_mask:Re.empty_mask;let s=Oe.get_random_with_mask(e),r=this.state.config.fbBasisSelector.getActiveName();s="Default"===r?s:"DL"===r?Oe.rebase_to_edge(s,5)[0]:Oe.rebase_to_edge(s,9)[0];let a="Default"===r?"fb":"DL"===r?"fb@dl":"fb@bl";this.premoves="Default"===r?["","x","x'","x2"]:[""];const n="Hard",o="Hard over x2y (Scramble only)";if(t===o&&(a="min2phase"),t!==n&&t!==o)return[s,a];let c=t===n;for(;;){let e=Oe.find_pairs(s),t=this._find_center_connected_edges(s,c);if(0===e.length&&0===t.length)return[s,a];s=Oe.get_random_with_mask(Re.empty_mask)}}getLevelSelector(){return this.state.config.fbLevelSelector}getRandomAnyLevel(){let[e,t]=this._get_random();return{cube:e,solvers:"min2phase"===t?[]:[t],ssolver:t}}}class da extends ia{constructor(){super(...arguments),this.solverL=7,this.solverR=11,this.premoves=["","x","x'","x2"],this.levelMaxAttempt=2e3}getLevelSelector(){return this.state.config.fsLevelSelector}getRandomAnyLevel(){let e=Oe.get_random_with_mask(Re.empty_mask),t=this.state.config.fsSelector.getActiveName();return"Front FS"===t?{cube:e,solvers:["fs-front"],ssolver:"fb"}:"Back FS"===t?{cube:e,solvers:["fs-back"],ssolver:"fb"}:{cube:e,solvers:["fs-front","fs-back"],ssolver:"fb"}}}class ua extends ia{constructor(){super(...arguments),this.solverL=7,this.solverR=11,this.premoves=["","x","x'","x2"],this.levelMaxAttempt=1e3}getLevelSelector(){return this.state.config.fsLevelSelector}getRandomAnyLevel(){let e=Oe.get_random_with_mask(Re.empty_mask),t=this.state.config.fsSelector.getActiveName();return"Front FS"===t?{cube:e,solvers:["fsdr-front"],ssolver:"fbdr"}:"Back FS"===t?{cube:e,solvers:["fsdr-back"],ssolver:"fbdr"}:{cube:e,solvers:["fsdr-front","fsdr-back"],ssolver:"fbdr"}}}class ma extends ia{constructor(){super(...arguments),this.solverL=8,this.solverR=12,this.expansionFactor=5,this.levelMaxAttempt=500}getLevelSelector(){return this.state.config.fbssLevelSelector}getRandom(){let e=this.getLevelSelector();return this.levelMaxAttempt=e.value<=4?1500:500,super.getRandom()}getRandomAnyLevel(){let e,t,s,r=this.state.config.fbssLpSelector.getActiveName(),a=this.state.config.fbssSsSelector.getActiveName(),n="Front FBLP"===r,o=n?Re.fs_back_mask:Re.fs_front_mask;return e=Oe.get_random_with_mask(o),"Front SS"===a?(t=["fbss-front"],s="fbss-front"):"Back SS"===a?(t=["fbss-back"],s="fbss-back"):(t=["fbss-front","fbss-back"],s=n?"lpsb-front":"lpsb-back"),{cube:e,solvers:t,ssolver:s}}}class fa extends ia{constructor(){super(...arguments),this.scrambleMargin=1,this.solverL=8,this.solverR=14,this.levelMaxAttempt=3e3}_get_random_fb(e){let t,s=this.state.config.ssPairOnlySelector.getActiveName(),r="DR fixed"===s?Re.fbdr_mask:Re.fb_mask;for(;t=Oe.get_random_with_mask(r),"DR fixed"!==s;){let s=t.ep.indexOf(7),r=t.eo[s];if(e.find((e=>{let[t,a]=e;return r===t&&s===a})))break}return t}getLevelSelector(){return this.state.config.ssLevelSelector}getRandomAnyLevel(){let e=this.state.config.ssSelector.getActiveNames()[0];const t=[[0,0],[1,0],[0,1],[1,1],[0,2],[1,2],[0,3],[1,3],[0,4],[1,4],[0,6],[1,6],[0,7],[1,7],[0,10],[1,10],[0,11],[1,11]];let s,r,a=this.state.config.ssPosSelector.flags.map(((e,t)=>[e,t])).filter((e=>{let[t,s]=e;return t})).map((e=>{let[s,r]=e;return t[r]})),n=this._get_random_fb(a),o="D-Pair only"===this.state.config.ssPairOnlySelector.getActiveName()?"ssdp":"ss";return"Front SS"===e?(r=o+"-front",s=[r]):"Back SS"===e?(r=o+"-back",s=[r]):(s=[o+"-front",o+"-back"],r="sb"),{cube:n,solvers:s,ssolver:r}}}class ba extends ia{constructor(){super(...arguments),this.solverL=5,this.solverR=20,this.scrambleCount=3,this.algDescWithMoveCount="STM"}getRandomAnyLevel(){let e=this.state.config.lseBarSelector.getActiveName(),t=Oe.get_random_with_mask(Re.lse_4c_mask),s=(new je).from_cube(t,"");t="UFUB"===e?(new ge).apply(X(["U","U"])).apply(s):(new ge).apply(s);let r="Misaligned"===this.state.config.lseMCSelector.getActiveName()?[je.all.M,je.all["M'"]]:[[],je.all.M2];t=t.apply(X(r));let a=this.state.config.lseStageSelector.getActiveName(),n=["lse"],o="lse";return"M2 to 4c"===a?(t=t.apply(X(["U M2","U' M2"])).apply(X(["U","U'","U2","id"])),{cube:t,solvers:n,ssolver:o}):a.startsWith("4b for MC")?(t=t.apply(X(["U M2","U' M2"])).apply(X(["U","U'","U2","id"])),t=t.apply(X(["M","M'"])),t=t.apply(X(["U","U'","U2","id"])),{cube:t,solvers:n,ssolver:o}):{cube:t,solvers:n,ssolver:o}}}const ga=[{kind:"solved",eo:[0,0,0,0,0,0]},{kind:"arrow",eo:[1,1,0,1,1,0]},{kind:"arrow",eo:[0,1,1,1,0,1]},{kind:"4/0",eo:[1,1,1,1,0,0]},{kind:"2o/0",eo:[1,0,1,0,0,0]},{kind:"2a/0",eo:[1,1,0,0,0,0]},{kind:"1/1",eo:[1,0,0,0,0,1]},{kind:"1/1",eo:[0,0,1,0,1,0]},{kind:"6flip",eo:[1,1,1,1,1,1]},{kind:"2o/2",eo:[0,1,0,1,1,1]},{kind:"0/2",eo:[0,0,0,0,1,1]},{kind:"2a/2",eo:[0,1,1,0,1,1]}],ja=function(){let e=Object.assign({});return ga.forEach((t=>{e[t.eo.toString()]=t.kind})),e}();class va extends ia{constructor(){super(...arguments),this.solverL=5,this.solverR=20,this.scrambleCount=3,this.algDescWithMoveCount="STM"}_getEOType(e){for(let t=0;t<4;t++){let t=e.eo.slice(0,5);t.push(e.eo[6]);let s=ja[t.toString()];if(s)return console.log(s,t),s;e=e.apply("U")}return"Error"}getRandomAnyLevel(){let e,t=X(this.state.config.lseEOSelector.getActiveNames()),s=0,r=this.state.config.lseEOLRMCSelector.getActiveName(),a=r===Hr||r===$r,n="EOLRb"===this.state.config.lseBarbieSelector.getActiveName(),o="EOdM"===this.state.config.lseBarbieSelector.getActiveName(),c="Random State"===this.state.config.lseEOLRScrambleSelector.getActiveName();for(;;){if(e=Oe.get_random_with_mask(Re.lse_mask),e=e.apply(X(["id","M2"])),console.log("targetEO",t),s++>1e3){console.log("something wrong");break}if(this._getEOType(e)===t){if(a){let t=n?"eolrac-b":"eolrac",s=n?"eolrmc-b":"eolrmc",a=qs.get(t).solve(e,0,20,1)[0].moves.length,o=qs.get(s).solve(e,0,20,1)[0].moves.length;if(r===Hr&&a>o)continue;if(r===$r&&o>a)continue}break}}const l=c||o?"lse":"lse-ab4c";let i;switch(r){case Xr:i=n?"eolrac-b":"eolrac";break;case Kr:i=n?"eolrmc-b":"eolrmc";break;case Vr:case Hr:case $r:i=n?"eolr-b":"eolr";break;default:i="eolr"}return o&&(i="eodm"),{cube:e,solvers:[i],ssolver:l}}}class _a extends ca{_get2PhaseSolution(e){let t=!1;0!==e.tp[0]&&(t=!0,e=e.apply("M2")),console.assert(J(e.tp,(new ge).tp));const s=e.to_cstimer_cube();console.assert(s.is_solveable(),"Cube must be solveable"),Object(Es.initialize)();let r=Cs(s);t&&(r+=" M2");const a=ht("scramble",r,"scramble");return console.log(r),a}_generateSingleCmllCase(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,{config:s}=t,{cmllCaseSelector:r,triggerSelector:a,cmllAufSelector:n,nmcllSelector:o,hyperOriSelector:c}=s;const l="off"!==c.getActiveName(),i="F/B"!==c.getActiveName();let h,p=l?((e,t)=>{let s=new Set(t);console.log("generating from active caes",s);let r=xt(e).filter((e=>t.some((t=>e.id.includes(t)))));return()=>0===r.length?pt:X(r)})(o.kind,o.getActiveNames().map((e=>`nmcll-${e}`))):yt(r.kind,r.getActiveNames()),d=e?()=>ht("None","","trigger"):Ot(a),u=Ot(n),m=d(),f=p(),b=u(),g=X(i?["U","U'"]:["","U2"]),j=m.algs[0]+" "+b.algs[0]+" "+f.algs[0]+g,v=new ve(j).inv().moves;for(;h=Oe.get_random_lse().apply(v),!h.is_solveable(););return{state:h,desc:[m,b,f,e?ht("none","","scramble"):this._get2PhaseSolution(h)]}}_generateCase(){let e=this.state,{orientationSelector:t}=e.config,s=Ot(t)().id,r=this._generateSingleCmllCase();return{...e,name:"solving",cube:{state:r.state,ori:s,history:[],levelSuccess:!0},case:r}}_generateBatch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=[],s=new ge,r=[];for(let o=0;o<e-1;o++){let s=this._generateSingleCmllCase(!0);r.push(s.desc[1].algs[0]+" "+s.desc[2].algs[0]),s.desc[3]=ht("none",`${o+1} / ${e}`,"scramble"),t.push(s)}let a=r.join(" ");s=s.apply(a);let n={state:s,desc:[]};return t.push(n),console.log("batch cases",t),{cases:t,index:0}}onControl(e){let t=this.state,s="on"===t.config.cmllBatchModeSelector.getActiveName(),r=(e,t)=>{var s,r;return e.batch?{...e,batch:{...e.batch,index:t},name:"solving",cube:{state:null===(s=e.batch)||void 0===s?void 0:s.cases[t].state,ori:e.cube.ori,history:[],levelSuccess:!0},case:null===(r=e.batch)||void 0===r?void 0:r.cases[t]}:e};if("#space"===e){if(s){if(!t.batch||t.batch.index>=t.batch.cases.length-1){let e=this._generateBatch(),{orientationSelector:s}=t.config,r=Ot(s)().id;return{...t,batch:e,name:"solving",cube:{state:e.cases[0].state,ori:r,history:[],levelSuccess:!0},case:e.cases[0]}}return r(t,t.batch.index+1)}return this._generateCase()}if("#left"===e||"#right"===e){if(t.batch){let s="#left"===e?-1:1,a=Math.max(0,t.batch.index+s);return a>=t.batch.cases.length&&(a=t.batch.cases.length-1),r(t,a)}return t}if("#enter"===e)return{...t,name:"solving",cube:{...t.cube,state:t.case.state,history:[]},case:{...t.case}};throw new Error("Unrecognized control code")}onConfig(e){return this.state}}class xa extends _a{onMove(e){let t=this.state,s=new ve(e).moves;if(s.length>0){let e=s[0],r=t.cube.state.apply(e),a=Oe.is_cmll_solved(r)?"solved":"solving";return{...t,cube:{...t.cube,state:t.cube.state.apply(e),history:[...t.cube.history,e]},name:a}}return t}}class Oa extends _a{onMove(e){return this.state}}la.create=function(e){switch(e.mode){case"fbdr":return new ha(e);case"ss":return new fa(e);case"fbss":return new ma(e);case"fs":return new da(e);case"fsdr":return new ua(e);case"fb":return new pa(e);case"cmll":switch(e.name){case"solving":return new xa(e);case"solved":return new Oa(e);default:throw new Error("impossible")}case"misc-algs":switch(e.name){case"solving":return new xa(e);case"solved":return new Oa(e);default:throw new Error("impossible")}case"4c":return new ba(e);case"eopair":return new va(e);case"experimental":case"analyzer":case"tracking":return new pa(e)}};const ya={I:"R",K:"R'",W:"B",O:"B'",S:"D",L:"D'",D:"L",E:"L'",J:"U",F:"U'",H:"F",G:"F'",";":"y",A:"y'",U:"r",R:"l'",M:"r'",V:"l",T:"x",Y:"x",N:"x'",B:"x'",".":"M'",X:"M'",5:"M",6:"M",P:"z",Q:"z'",Z:"d",C:"u'",",":"u","/":"d'",ENTER:"#enter"," ":"#space",ARROWLEFT:"#left",ARROWRIGHT:"#right"},Ra={I:"M'",E:"M'",K:"M",D:"M",J:"U",F:"U'",S:"E'",L:"E",ENTER:"#enter"," ":"#space",ARROWLEFT:"#left",ARROWRIGHT:"#right"};class wa extends class{}{handle(e,t){if(e.altKey||e.ctrlKey||e.metaKey)return;let s=e.key.toUpperCase();ya.hasOwnProperty(s)&&t({type:"key",content:ya[s]})}}class Ua{handle(e,t){if(e.altKey||e.ctrlKey||e.metaKey)return;let s=e.key.toUpperCase();Ra.hasOwnProperty(s)&&t({type:"key",content:Ra[s]})}}const ka=e=>{e=e||"fbdr";let t=function(){switch(e){case"cmll":case"misc-algs":return"solved";case"fbdr":case"ss":case"fb":case"4c":case"eopair":case"fbss":case"fs":case"fsdr":case"experimental":case"analyzer":case"tracking":return"revealed"}}(),s=sa().orientationSelector.getActiveName()||"YR";return{name:t,mode:e,scrambleInput:[],cube:{state:new ge,ori:s,history:[],levelSuccess:!0},case:{state:new ge,desc:[]},prev:null,batch:null,config:sa(),favList:na(),keyMapping:"4c"===e||"eopair"===e?new Ua:new wa,colorScheme:new ye}};var Sa=s(82);function Fa(e,t){switch(t.type){case"key":{let s=function(e,t){if(""===t)return e;const s=la.create(e);return"#"===t[0]?s.onControl(t):s.onMove(t)}(e,t.content);return s}case"config":{let s={...e.config,...t.content};ra(s);let r=function(e,t){return la.create(e).onConfig(t)}(e,s);return{...r,config:s}}case"mode":{let s=t.content;return window.location.hash!==s&&Sa.a.pageview(s),window.location.hash=s,e=ka(s)}case"scrambleInput":return{...e,scrambleInput:t.content};case"favList":return function(e,t){let s=e.favList;switch(t.action){case"add":s=[...t.content,...s],oa(s);break;case"remove":{const e=t.content[0];s=s.filter((t=>!(t.mode===e.mode&&t.setup===e.setup&&J(t.solver,e.solver)))),oa(s);break}case"replay":return la.create(e).onReplay(t.content[0])}return{...e,favList:s}}(e,t);case"colorScheme":return{...e,colorScheme:e.colorScheme.set(t.content)};case"custom":return t.content(e);default:return e}}var La=s(237),Ma=s(236),Ba=s(251);s(169),s(170);window.addEventListener("keypress",(function(e){32===e.keyCode&&e.target===document.body&&e.preventDefault(),e.altKey&&e.ctrlKey&&"r"===e.key&&(aa(),console.log("config reset"))}));var Da=function(e){const[t,s]=a.a.useReducer(Fa,ka()),r="bright"===t.config.theme.getActiveName()?at:nt;return Object(ae.jsx)(Ma.a,{injectFirst:!0,children:Object(ae.jsxs)(Ba.a,{theme:r,children:[Object(ae.jsx)(La.a,{}),Object(ae.jsx)(Tr,{state:t,dispatch:s})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Sa.a.initialize("UA-209793005-2"),o.a.render(Object(ae.jsx)(Da,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},97:function(e,t){function s(e){const t=Array(e);for(var s=0;s<e;s++)t[s]=0;return t}function r(e){return(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>8)+(e>>>4)&15}function a(e){for(var t=0,s=6;s>=0;s--)t+=e%(8-s),e=~~(e/(8-s));return t&=1}function n(e){for(var t=0,s=10;s>=0;s--)t+=e%(12-s),e=~~(e/(12-s));return t&=1}function o(e,t){var s=e.length;if(t<=e[s-1])for(var r=0,a=s-1;r<=a;){var n=r+a>>>1,o=e[n];if(t>o)r=n+1;else{if(!(t<o))return n;a=n-1}}return 65535}for(var c=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600],l=[[11,10,9],[10,11,9],[11,9,10],[9,11,10],[10,9,11],[9,10,11]],i=[0,1,2,4,7,9,10,11,13,16],h=s(18),p=function(e,t){const s=Array(e);for(var r=0;r<e;r++){s[r]=Array(t);for(var a=0;a<t;a++)s[r][a]=0}return s}(12,13),d=["U ","U2","U'","R ","R2","R'","F ","F2","F'","D ","D2","D'","L ","L2","L'","B ","B2","B'"],u=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,11,10,9]],m=0;m<12;m++){p[m][0]=1,p[m][m]=1,p[m][m+1]=0;for(var f=1;f<m;f++)p[m][f]=p[m-1][f-1]+p[m-1][f]}for(m=0;m<10;m++)h[i[m]]=m;var b=Array(19),g=Array(11);b[18]=Array(18),g[10]=Array(10);for(m=0;m<18;m++){b[m]=Array(18);for(f=0;f<18;f++)b[m][f]=~~(m/3)==~~(f/3)||~~(m/3)%3==~~(f/3)%3&&m>=f;b[18][m]=!1}for(m=0;m<10;m++){g[m]=Array(10);for(f=0;f<10;f++)g[m][f]=b[i[m]][i[f]];g[10][m]=!1}function j(){this.cp=[0,1,2,3,4,5,6,7],this.co=[0,0,0,0,0,0,0,0],this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=[0,0,0,0,0,0,0,0,0,0,0,0],this.getFlip=function(){for(var e=0,t=0;t<11;t++)e|=this.eo[t]<<t;return e},this.getFlipSym=function(){if(0!=z)return z[this.getFlip()];for(var e=0;e<16;e+=2){U(this,F[e],_);var t=o(A,_.getFlip());if(65535!=t)return t<<3|e>>>1}return 0},this.setFlip=function(e){this.eo[11]=function(e){return e^=e>>>1,e^=e>>>2,e^=e>>>4,1&(e^e>>>8)}(e);for(var t=0;t<11;t++)this.eo[t]=1&e,e>>>=1},this.getTwist=function(){for(var e=0,t=0;t<7;t++)e*=3,e+=this.co[t];return e},this.getTwistSym=function(){if(null!=I)return I[this.getTwist()];for(var e=0;e<16;e+=2){w(this,F[e],_);let t=o(N,_.getTwist());if(65535!=t)return t<<3|e>>>1}return 0},this.setTwist=function(e){for(var t=0,s=6;s>=0;s--)t+=this.co[s]=e%3,e=~~(e/3);this.co[7]=(15-t)%3},this.getUDSlice=function(){for(var e=0,t=4,s=0;s<12;s++)this.ep[s]>=8&&(e+=p[11-s][t],t--);return e},this.setUDSlice=function(e){for(var t=4,s=0;s<12;s++)e>=p[11-s][t]?(e-=p[11-s][t],t--,this.ep[s]=11-t):this.ep[s]=s+t-4},this.getMPerm=function(){for(var e=1<<this.ep[11],t=0,s=10;s>=8;--s){var a=1<<this.ep[s];t+=r(e&a-1)*c[11-s],e|=a}return t},this.setMPerm=function(e){this.ep[11]=8;for(var t=10;t>=8;t--){this.ep[t]=e%(12-t)+8,e=~~(e/(12-t));for(var s=t+1;s<12;s++)this.ep[s]>=this.ep[t]&&this.ep[s]++}},this.getMid3=function(){for(var e=0,t=0,s=0,a=3,n=11;n>=0;n--)if(this.ep[n]>=9){e+=p[n][a--];var o=1<<this.ep[n];t+=r(s&o-1)*c[2-a],s|=o}return 6*e+t},this.setMid3=function(e){var t=l[e%6];e=~~(e/6);for(var s=3,r=11;r>=0;r--)e>=p[r][s]?(e-=p[r][s--],this.ep[r]=t[2-s]):this.ep[r]=8-r+s},this.getURtoUL=function(){for(var e=0,t=0,s=0,a=3,n=11;n>=0;n--)if(this.ep[n]<=2){e+=p[n][a--];var o=1<<this.ep[n];t+=r(s&o-1)*c[2-a],s|=o}return 6*e+t},this.getDRtoDL=function(){for(var e=0,t=0,s=0,a=3,n=11;n>=0;n--)if(4<=this.ep[n]&&this.ep[n]<=6){e+=p[n][a--];var o=1<<this.ep[n];t+=r(s&o-1)*c[2-a],s|=o}return 6*e+t},this.setEdgePerm=function(e){this.ep[11]=0;for(var t=10;t>=0;t--){this.ep[t]=e%(12-t),e=~~(e/(12-t));for(var s=t+1;s<12;s++)this.ep[s]>=this.ep[t]&&this.ep[s]++}},this.getEdgePerm=function(){for(var e=1<<this.ep[11],t=0,s=10;s>=0;--s){var a=1<<this.ep[s];t+=r(e&a-1)*c[11-s],e|=a}return t},this.getCPermSym=function(){if(null!=W){var e=W[O(this.cp)];return e^=H[15&e]}for(var t=0;t<16;t++){if(w(this,F[t],_),65535!=(e=o(P,O(_.cp))))return e<<4|t}return 0},this.getEPermSym=function(){if(null!=W)return W[O(this.ep)];for(var e=0;e<16;e++){U(this,F[e],_);var t=o(T,O(_.ep));if(65535!=t)return t<<4|e}return 0},this.URFConjugate=function(){y(V,this,_),y(_,$,this),R(V,this,_),R(_,$,this)},this.invCubieCube=function(){for(var e=0;e<12;e++)_.ep[this.ep[e]]=e;for(e=0;e<12;e++)_.eo[e]=this.eo[_.ep[e]];for(var t=0;t<8;t++)_.cp[this.cp[t]]=t;for(t=0;t<8;t++){var s=this.co[_.cp[t]];_.co[t]=-s,_.co[t]<0&&(_.co[t]+=3)}this.copy(_)},this.init=function(e,t,s,r){x(this.cp,e),this.setTwist(t),this.setEdgePerm(s),this.setFlip(r)},this.copy=function(e){for(var t=0;t<8;t++)this.cp[t]=e.cp[t],this.co[t]=e.co[t];for(t=0;t<12;t++)this.ep[t]=e.ep[t],this.eo[t]=e.eo[t]}}const v=new j,_=new j;function x(e,t){for(var s=1985229328,r=0;r<7;r++){var a=c[7-r],n=~~(t/a);t%=a,n<<=2,e[r]=s>>n&7;var o=(1<<n)-1;s=(s&o)+(s>>4&~o)}e[7]=s}function O(e){for(var t=0,s=1985229328,r=0;r<7;r++){var a=e[r]<<2;t=(8-r)*t+(s>>a&7),s-=286331152<<a}return t}function y(e,t,s){for(var r=0;r<8;r++){s.cp[r]=e.cp[t.cp[r]];var a=e.co[t.cp[r]],n=t.co[r],o=a;o+=a<3?n:3-n,o%=3,a<3^n<3&&(o+=3),s.co[r]=o}}function R(e,t,s){for(var r=0;r<12;r++)s.ep[r]=e.ep[t.ep[r]],s.eo[r]=t.eo[r]^e.eo[t.ep[r]]}function w(e,t,s){y(k[F[t]],e,v),y(v,k[t],s)}function U(e,t,s){R(k[F[t]],e,v),R(v,k[t],s)}var k=Array(16),S=Array(18),F=Array(16),L=Array(16),M=Array(16),B=Array(8),D=Array(8),E=Array(8),C=Array(16),A=Array(336),N=Array(324),P=Array(2768),T=P,z=Array(2048),I=Array(2187),W=s(40320);for(m=0;m<40320;m++)W[m]=0;var Y=Array(40320),G=Array(56),H=[0,0,0,0,1,3,1,3,1,3,1,3,0,0,0,0];const $=new j;$.init(2531,1373,67026819,1877);const V=new j;V.init(2089,1906,322752913,255);var K=Array(495),X=Array(324),q=Array(336),Z=Array(495),J=Array(160380),Q=Array(166320),ee=Array(870912),te=Array(1320),se=Array(24),re=Array(87),ae=Array(2768),ne=Array(2768),oe=Array(24),ce=Array(24),le=Array(66432),ie=Array(66432);var he,pe=Array(31),de=Array(20),ue=Array(20),me=Array(20),fe=Array(20),be=Array(20),ge=Array(6),je=Array(6),ve=Array(6),_e=Array(6),xe=Array(6),Oe=Array(6),ye=Array(6),Re=Array(6),we=Array(6),Ue=Array(6),ke=Array(6),Se=0,Fe=0,Le=999,Me=0,Be=0,De="";function Ee(e,t,s,r,a,n,o){if(0==e&&0==s&&0==a&&n<5)return 0==n&&function(){Be=Math.min(Be,Me);for(var e=Me;e<Se;e++){var t=pe[e];de[e+1]=ae[de[e]][M[ue[e]][t]],ue[e+1]=L[15&de[e+1]][ue[e]],de[e+1]>>>=4,me[e+1]=te[me[e]][t]}Me=Se;var s=se[me[Se]%24],r=le[24*de[Se]+ce[s][ue[Se]]];if(r>=Fe)return!1;for(e=Be;e<Se;e++)fe[e+1]=te[fe[e]][pe[e]],be[e+1]=te[be[e]][pe[e]];Be=Se;var a=de[Se],n=4032*G[~~(fe[Se]/6)][~~(be[Se]/6)]+12*fe[Se]+be[Se]%6*2+(re[a>>>3]>>>(7&a)&1^function(e){for(var t=0,s=2;s>=0;s--)t+=e%(4-s),e=~~(e/(4-s));return 1&t}(s)),o=Y[n],c=15&o;if(o>>>=4,(r=Math.max(ie[24*o+ce[s][c]],r))>=Fe)return!1;var l=0==Se?10:h[3*~~(pe[Se-1]/3)+1];for(e=r;e<Fe;e++)if(Ce(o,c,de[Se],ue[Se],s,e,Se,l)){Le=Se+e;var i="",p=he;if((p=(p+3)%6)<3){for(var m=0;m<Se;m++)i+=d[u[p][pe[m]]]+" ";for(m=Se;m<Le;m++)i+=d[u[p][pe[m]]]+" "}else{for(m=Le-1;m>=Se;m--)i+=d[u[p][pe[m]]]+" ";for(m=Se-1;m>=0;m--)i+=d[u[p][pe[m]]]+" "}return De=i,!0}return!1}();for(var c=0;c<18;c++)if(b[o][c])c+=2;else{var l=K[a][c],i=X[e][D[t][c]],p=B[7&i][t];if(!(J[495*(i>>>=3)+Z[l][p]]>=n)){var m=q[s][D[r][c]],f=B[7&m][r];if(!(ee[2688*i+((m>>>=3)<<3|E[f][p])]>=n||Q[495*m+Z[l][f]]>=n)&&(pe[Se-n]=c,Me=Math.min(Me,Se-n),Ee(i,p,m,f,l,n-1,c)))return!0}}return!1}function Ce(e,t,s,r,a,n,o,c){if(0==e&&0==s&&0==a)return!0;for(var l=0;l<10;l++)if(!g[c][l]){var h=oe[a][l],p=ne[e][C[t][l]],d=L[15&p][t];if(!(ie[24*(p>>>=4)+ce[h][d]]>=n)){var u=ae[s][M[r][i[l]]],m=L[15&u][r];if(!(le[24*(u>>>=4)+ce[h][m]]>=n)&&(pe[o]=i[l],Ce(p,d,u,m,h,n-1,o+1,l)))return!0}}return!1}var Ae=!1;function Ne(){Ae||(!function(){var e=Array(6);e[0]=new j,e[0].init(15120,0,119750400,0),e[1]=new j,e[1].init(21021,1494,323403417,0),e[2]=new j,e[2].init(8064,1236,29441808,802),e[3]=new j,e[3].init(9,0,5880,0),e[4]=new j,e[4].init(1230,412,2949660,0),e[5]=new j,e[5].init(224,137,328552,1160);for(var t=0;t<6;t++){S[3*t]=e[t];for(var s=0;s<2;s++)S[3*t+s+1]=new j,R(S[3*t+s],e[t],S[3*t+s+1]),y(S[3*t+s],e[t],S[3*t+s+1])}var r,n=new j,o=new j,c=new j;c.init(28783,0,259268407,0);var l=new j;l.init(15138,0,119765538,1792);var p=new j;p.init(5167,0,83473207,0),p.co=[3,3,3,3,3,3,3,3];for(var d=0;d<16;d++)L[d]=Array(16),M[d]=Array(18),C[d]=Array(10),k[d]=new j,k[d].copy(n),y(n,l,o),R(n,l,o),r=o,o=n,n=r,d%4==3&&(y(n,p,o),R(n,p,o),r=o,o=n,n=r),d%8==7&&(y(n,c,o),R(n,c,o),r=o,o=n,n=r);for(var u=0;u<16;u++)for(var m=0;m<16;m++)if(y(k[u],k[m],n),0==n.cp[0]&&1==n.cp[1]&&2==n.cp[2]){F[u]=m;break}for(d=0;d<16;d++)for(u=0;u<16;u++)for(y(k[d],k[u],n),m=0;m<16;m++)if(k[m].cp[0]==n.cp[0]&&k[m].cp[1]==n.cp[1]&&k[m].cp[2]==n.cp[2]){L[d][u]=m;break}for(u=0;u<18;u++)for(var f=0;f<16;f++)for(w(S[u],F[f],n),t=0;t<18;t++){var b=1;for(d=0;d<8;d++)if(n.cp[d]!=S[t].cp[d]||n.co[d]!=S[t].co[d]){b=0;break}b&&(M[f][u]=t)}for(u=0;u<10;u++)for(f=0;f<16;f++)C[f][u]=h[M[f][i[u]]];for(u=0;u<8;u++)for(B[u]=Array(8),D[u]=Array(18),E[u]=Array(8),f=0;f<8;f++)B[u][f]=L[u<<1][f<<1]>>>1;for(u=0;u<18;u++)for(f=0;f<8;f++)D[f][u]=M[f<<1][u];for(u=0;u<8;u++)for(f=0;f<8;f++)E[u][f]=B[u][F[f<<1]>>1];const g=new Array(1260);var v=0;for(d=0;d<64;g[d++]=0);for(d=0;d<2048;d++)if(0==(g[d>>>5]&1<<(31&d))){for(n.setFlip(d),f=0;f<16;f+=2)U(n,f,o),g[($=o.getFlip())>>>5]|=1<<(31&$),z[$]=v<<3|f>>>1;A[v++]=d}for(v=0,d=0;d<69;g[d++]=0);for(d=0;d<2187;d++)if(0==(g[d>>>5]&1<<(31&d))){for(n.setTwist(d),f=0;f<16;f+=2)w(n,f,o),g[($=o.getTwist())>>>5]|=1<<(31&$),I[$]=v<<3|f>>>1;N[v++]=d}var _=Array(56);for(d=0;d<56;d++)_[d]=Array(2),G[d]=Array(56);for(d=0;d<40320;d++){x(n.ep,d);var P=~~(n.getURtoUL()/6),H=~~(n.getDRtoDL()/6);_[P][H>>>5]|=1<<(31&H)}for(d=0;d<56;d++)for(v=0,u=0;u<56;u++)0!=(_[d][u>>>5]&1<<(31&u))&&(G[d][u]=v++);for(v=0,d=0;d<1260;g[d++]=0);for(d=0;d<40320;d++)if(0==(g[d>>>5]&1<<(31&d))){for(x(n.ep,d),f=0;f<16;f++){var $;U(n,f,o),g[($=O(o.ep))>>>5]|=1<<(31&$),P=o.getURtoUL(),H=o.getDRtoDL(),t=4032*G[~~(P/6)][~~(H/6)]+12*P+H%6*2+a($),Y[t]=v<<4|f,W[$]=v<<4|f}T[v++]=d}}(),function(){var e,t=new j,s=new j;for(e=0;e<2768;e++)for(ae[e]=Array(18),x(t.cp,P[e]),n=0;n<18;n++)y(t,S[n],s),ae[e][n]=s.getCPermSym();for(e=0;e<2768;e++)for(ne[e]=Array(10),x(t.ep,T[e]),n=0;n<10;n++)R(t,S[i[n]],s),ne[e][n]=s.getEPermSym();for(e=0;e<336;e++)for(q[e]=Array(18),t.setFlip(A[e]),n=0;n<18;n++)R(t,S[n],s),q[e][n]=s.getFlipSym();for(e=0;e<324;e++)for(X[e]=Array(18),t.setTwist(N[e]),n=0;n<18;n++)y(t,S[n],s),X[e][n]=s.getTwistSym();for(e=0;e<495;e++)for(K[e]=Array(18),t.setUDSlice(e),n=0;n<18;n++)R(t,S[n],s),K[e][n]=s.getUDSlice();for(e=0;e<495;e++)for(Z[e]=Array(8),t.setUDSlice(e),n=0;n<16;n+=2)U(t,F[n],s),Z[e][n>>>1]=s.getUDSlice();for(e=0;e<1320;e++)for(te[e]=Array(18),t.setMid3(e),n=0;n<18;n++)R(t,S[n],s),te[e][n]=s.getMid3();for(e=0;e<24;e++)t.setMPerm(e),se[t.getMid3()%24]=e;for(e=0;e<2768;e++)re[e>>>3]|=a(P[e])<<(7&e);for(e=0;e<24;e++)for(oe[e]=Array(10),t.setMPerm(e),n=0;n<10;n++)R(t,S[i[n]],s),oe[e][n]=s.getMPerm();for(e=0;e<24;e++)for(ce[e]=Array(16),t.setMPerm(e),n=0;n<16;n++)U(t,F[n],s),ce[e][n]=s.getMPerm();var r=Array(324);for(e=0;e<324;e++){t.setTwist(N[e]);for(var n=0;n<8;n++)w(t,n<<1,s),65535!=o(N,s.getTwist())&&(r[e]|=1<<n)}var c=Array(324);for(e=0;e<336;e++)for(t.setFlip(A[e]),n=0;n<8;n++)U(t,n<<1,s),65535!=o(A,s.getFlip())&&(c[e]|=1<<n);for(e=0;e<870912;e++)ee[e]=-1;for(e=0;e<8;e++)ee[e]=0;for(var l,h,p,d=0,u=8;u<870912;)for(h=(l=d>6)?-1:d,p=l?d:-1,d++,e=0;e<870912;e++)if(ee[e]==h){var m=~~(e/2688),f=e%2688,b=7&e;f>>>=3;for(var g=0;g<18;g++){var v=7&(Y=X[m][g]);Y>>>=3;var _=q[f][D[b][g]],k=E[B[7&_][b]][v];if(ee[me=2688*Y+((_>>>=3)<<3|k)]==p){if(u++,l){ee[e]=d;break}ee[me]=d;var L=r[Y],M=c[_];if(1!=L||1!=M)for(n=0;n<8;n++,M>>=1)if(1==(1&M))for(var C=E[k][n],z=0;z<8;z++)if(0!=(L&1<<z)){var I=2688*Y+(_<<3|E[C][z]);-1==ee[I]&&(ee[I]=d,u++)}}}}for(e=0;e<160380;e++)J[e]=-1;for(J[0]=0,d=0,u=1;u<160380;)for(h=(l=d>6)?-1:d,p=l?d:-1,d++,e=0;e<160380;e++)if(J[e]==h){var W=e%495;for(m=~~(e/495),g=0;g<18;g++){var Y,G=7&(Y=X[m][g]),$=Z[K[W][g]][G];if(J[me=495*(Y>>>=3)+$]==p){if(u++,l){J[e]=d;break}if(J[me]=d,1!=(L=r[Y]))for(n=1;n<8;n++)1==(1&(L>>=1))&&(I=495*Y+Z[$][n],-1==J[I]&&(J[I]=d,u++))}}}for(e=0;e<166320;e++)Q[e]=-1;for(Q[0]=0,d=0,u=1;u<166320;)for(h=(l=d>6)?-1:d,p=l?d:-1,d++,e=0;e<166320;e++)if(Q[e]==h)for(W=e%495,f=~~(e/495),g=0;g<18;g++)if(G=7&(_=q[f][g]),$=Z[K[W][g]][G],Q[me=495*(_>>>=3)+$]==p){if(u++,l){Q[e]=d;break}if(Q[me]=d,1!=(L=c[_]))for(n=1;n<8;n++)1==(1&(L>>=1))&&(I=495*_+Z[$][n],-1==Q[I]&&(Q[I]=d,u++))}for(r=Array(2768),e=0;e<2768;e++)for(x(t.ep,T[e]),n=1;n<16;n++)U(t,n,s),65535!=o(T,O(s.ep))&&(r[e]|=1<<n);for(e=0;e<66432;e++)ie[e]=-1;for(ie[0]=0;u<66432;)for(h=(l=d>7)?-1:d,p=l?d:-1,d++,e=0;e<66432;e++)if(ie[e]==h){var V=e%24,he=~~(e/24);for(g=0;g<10;g++){var pe=ne[he][g],de=(G=15&pe,ce[oe[V][g]][G]);if(ie[me=24*(pe>>>=4)+de]==p){if(u++,l){ie[e]=d;break}if(ie[me]=d,0!=(L=r[pe]))for(n=1;n<16;n++)1==(1&(L>>=1))&&(I=24*pe+ce[de][n],-1==ie[I]&&(ie[I]=d,u++))}}}for(e=0;e<66432;e++)le[e]=-1;for(le[0]=0,d=0,u=1;u<66432;)for(h=(l=d>7)?-1:d,p=l?d:-1,d++,e=0;e<66432;e++)if(le[e]==h){V=e%24;var ue=~~(e/24);for(g=0;g<10;g++){var me,fe=ae[ue][i[g]];if(G=15&fe,de=ce[oe[V][g]][G],le[me=24*(fe>>>=4)+de]==p){if(u++,l){le[e]=d;break}if(le[me]=d,0!=(L=r[fe]))for(n=1;n<16;n++)1==(1&(L>>=1))&&(I=24*fe+ce[de][n^H[n]],-1==le[I]&&(le[I]=d,u++))}}}}(),Ae=!0)}e.exports.initialize=Ne,e.exports.solve=function(e){Ne();const t=new j;return t.cp=e.cp,t.co=e.co,t.ep=e.ep,t.eo=e.eo,function(e){e.temps=new j;for(var t=0;t<6;t++)ge[t]=e.getTwistSym(),je[t]=7&ge[t],ge[t]>>>=3,ve[t]=e.getFlipSym(),_e[t]=7&ve[t],ve[t]>>>=3,xe[t]=e.getUDSlice(),Oe[t]=e.getCPermSym(),ye[t]=15&Oe[t],Oe[t]>>>=4,Re[t]=e.getMid3(),we[t]=e.getURtoUL(),Ue[t]=e.getDRtoDL(),ke[t]=Math.max(Math.max(J[495*ge[t]+Z[xe[t]][je[t]]],Q[495*ve[t]+Z[xe[t]][_e[t]]]),ee[2688*ge[t]+(ve[t]<<3|E[_e[t]][je[t]])]),e.URFConjugate(),2==t&&e.invCubieCube();for(De=null,Le=22,Se=0;Se<Le;Se++)for(Fe=Math.min(Le/2+1,Le-Se),he=0;he<6;he++)if(de[0]=Oe[he],ue[0]=ye[he],me[0]=Re[he],fe[0]=we[he],be[0]=Ue[he],ke[he]<=Se&&Ee(ge[he],je[he],ve[he],_e[he],xe[he],Se,18))return null==De?"Error 8":De;return"Error 7"}(t)},e.exports.randomCube=function(){var e,t;do{e=~~(479001600*Math.random()),t=~~(40320*Math.random())}while(0!=(a(t)^n(e)));var s=new j;return s.init(t,~~(2187*Math.random()),e,~~(2048*Math.random())),s}}},[[171,1,2]]]);
//# sourceMappingURL=main.fd1c779f.chunk.js.map